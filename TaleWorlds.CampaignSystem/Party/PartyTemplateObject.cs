using System;
using System.Collections.Generic;
using System.Xml;
using TaleWorlds.Library;
using TaleWorlds.ObjectSystem;

namespace TaleWorlds.CampaignSystem.Party
{
	// Token: 0x02000298 RID: 664
	public sealed class PartyTemplateObject : MBObjectBase
	{
		// Token: 0x0600246F RID: 9327 RVA: 0x0009AE75 File Offset: 0x00099075
		internal static void AutoGeneratedStaticCollectObjectsPartyTemplateObject(object o, List<object> collectedObjects)
		{
			((PartyTemplateObject)o).AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		// Token: 0x06002470 RID: 9328 RVA: 0x0009AE83 File Offset: 0x00099083
		protected override void AutoGeneratedInstanceCollectObjects(List<object> collectedObjects)
		{
			base.AutoGeneratedInstanceCollectObjects(collectedObjects);
		}

		// Token: 0x06002472 RID: 9330 RVA: 0x0009AE94 File Offset: 0x00099094
		public override void Deserialize(MBObjectManager objectManager, XmlNode node)
		{
			this.Stacks = new MBList<PartyTemplateStack>();
			base.Deserialize(objectManager, node);
			foreach (object obj in node.ChildNodes)
			{
				XmlNode xmlNode = (XmlNode)obj;
				if (xmlNode.Name == "stacks")
				{
					foreach (object obj2 in xmlNode.ChildNodes)
					{
						XmlNode xmlNode2 = (XmlNode)obj2;
						if (xmlNode2.Name == "PartyTemplateStack")
						{
							PartyTemplateStack item = new PartyTemplateStack((CharacterObject)objectManager.ReadObjectReferenceFromXml("troop", typeof(CharacterObject), xmlNode2), Convert.ToInt32(xmlNode2.Attributes["min_value"].Value), Convert.ToInt32(xmlNode2.Attributes["max_value"].Value));
							this.Stacks.Add(item);
						}
					}
				}
			}
		}

		// Token: 0x04000B0C RID: 2828
		public MBList<PartyTemplateStack> Stacks;
	}
}
