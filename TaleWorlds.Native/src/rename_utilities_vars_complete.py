#!/usr/bin/env python3
import re

# 读取文件
with open('/dev/shm/mountblade-code/TaleWorlds.Native/src/06_utilities.c', 'r') as f:
    content = f.read()

# 定义替换映射
replacements = {
    # 全局数据结构引用
    'UNK_18098bcb0': 'GlobalSystemDataTable',
    'UNK_180a3c3e0': 'GlobalSystemResourceTable',
    'UNK_1809fcb90': 'ResourceHashTable001',
    'UNK_180a10098': 'ResourceHashTable002',
    'UNK_180a21690': 'ResourceHashTable003',
    'UNK_1809fe210': 'ResourceHashTable004',
    'UNK_1809feeb8': 'ResourceHashTable005',
    'UNK_180a07cd0': 'ValidationTable001',
    'UNK_180a0e170': 'ValidationTable002',
    'UNK_180a3e470': 'ValidationTable003',
    'UNK_1809ff488': 'ValidationTable004',
    'UNK_1809ffa18': 'ValidationTable005',
    'UNK_180a02e68': 'ValidationTable006',
    'UNK_180a14bb8': 'ValidationResult001',
    'UNK_180a14c60': 'ValidationResult002',
    'UNK_180a14d00': 'ValidationResult003',
    'UNK_18098b928': 'SystemConfigurationTable',
    'UNK_1800a0f67': 'SystemDefaultString',
    'UNK_18009ee10': 'SystemCodeReference',
    'UNK_1800a127e': 'SystemErrorMessage',
    'UNK_180a01668': 'SystemPointerTable',
    'UNK_180a17010': 'SystemEventTable',
    'UNK_180a07218': 'SystemSecurityTable',
    'UNK_180a03ad8': 'SystemPermissionTable',
    'UNK_180a05068': 'SystemBufferTable001',
    'UNK_1809fcca0': 'SystemBufferTable002',
    'UNK_1809fcd18': 'SystemBufferTable003',
    'UNK_1809fcc88': 'SystemBufferTable004',
    'UNK_180a05240': 'SystemBufferTable005',
    'UNK_180a05168': 'SystemBufferTable006',
    'UNK_180d49260': 'SystemStatusFlag',
    
    # 内存缓冲区（从之前未替换的继续）
    'UNK_180a3a520': 'MemoryBuffer024',
    'UNK_180a3a530': 'MemoryBuffer025',
    'UNK_180a3a540': 'MemoryBuffer026',
    'UNK_180a3a560': 'MemoryBuffer027',
    'UNK_180a3a580': 'MemoryBuffer028',
    'UNK_180a3a5a8': 'MemoryBuffer029',
    'UNK_180a3a5c0': 'MemoryBuffer030',
    'UNK_180a3a5d0': 'MemoryBuffer031',
    'UNK_180a3a5e0': 'MemoryBuffer032',
    'UNK_180a3a600': 'MemoryBuffer033',
    'UNK_180a3a620': 'MemoryBuffer034',
    'UNK_180a3a630': 'MemoryBuffer035',
    'UNK_180a3a640': 'MemoryBuffer036',
    'UNK_180a3a650': 'MemoryBuffer037',
    'UNK_180a3a660': 'MemoryBuffer038',
    'UNK_180a3a670': 'MemoryBuffer039',
    'UNK_180a3a688': 'MemoryBuffer040',
    'UNK_180a3a6a0': 'MemoryBuffer041',
    'UNK_180a3a6c0': 'MemoryBuffer042',
    'UNK_180a3a6e0': 'MemoryBuffer043',
    'UNK_180a3a6f8': 'MemoryBuffer044',
    'UNK_180a3a708': 'MemoryBuffer045',
    'UNK_180a3a720': 'MemoryBuffer046',
    'UNK_180a3a738': 'MemoryBuffer047',
    'UNK_180a3a748': 'MemoryBuffer048',
    'UNK_180a3a754': 'MemoryBuffer049',
    'UNK_180a3a758': 'MemoryBuffer050',
    'UNK_180a3a768': 'MemoryBuffer051',
    'UNK_180a3a778': 'MemoryBuffer052',
    'UNK_180a3a788': 'MemoryBuffer053',
    'UNK_180a3a798': 'MemoryBuffer054',
    'UNK_180a3a7a8': 'MemoryBuffer055',
    'UNK_180a3a7b8': 'MemoryBuffer056',
    'UNK_180a3a7d0': 'MemoryBuffer057',
    'UNK_180a3a7e0': 'MemoryBuffer058',
    'UNK_180a3a7f0': 'MemoryBuffer059',
    'UNK_180a3a800': 'MemoryBuffer060',
    'UNK_180a3a820': 'MemoryBuffer061',
    'UNK_180a3a830': 'MemoryBuffer062',
    'UNK_180a3a850': 'MemoryBuffer063',
    'UNK_180a3a860': 'MemoryBuffer064',
    'UNK_180a3a870': 'MemoryBuffer065',
    'UNK_180a3a880': 'MemoryBuffer066',
    'UNK_180a3a898': 'MemoryBuffer067',
    'UNK_180a3a8b0': 'MemoryBuffer068',
    'UNK_180a3a8c0': 'MemoryBuffer069',
    'UNK_180a3a8d8': 'MemoryBuffer070',
    'UNK_180a3a8f0': 'MemoryBuffer071',
    'UNK_180a3a900': 'MemoryBuffer072',
    'UNK_180a3a910': 'MemoryBuffer073',
    'UNK_180a3a920': 'MemoryBuffer074',
    'UNK_180a3a938': 'MemoryBuffer075',
    'UNK_180a3a948': 'MemoryBuffer076',
    'UNK_180a3a960': 'MemoryBuffer077',
    'UNK_180a3a970': 'MemoryBuffer078',
    'UNK_180a3a988': 'MemoryBuffer079',
    'UNK_180a3a998': 'MemoryBuffer080',
    'UNK_180a3a9b0': 'MemoryBuffer081',
    'UNK_180a3a9c8': 'MemoryBuffer082',
    'UNK_180a3a9d8': 'MemoryBuffer083',
    'UNK_180a3a9e0': 'MemoryBuffer084',
    'UNK_180a3a9f0': 'MemoryBuffer085',
    'UNK_180a3aa08': 'MemoryBuffer086',
    'UNK_180a3aa20': 'MemoryBuffer087',
    'UNK_180a3aa38': 'MemoryBuffer088',
    'UNK_180a3aa50': 'MemoryBuffer089',
    'UNK_180a3aa70': 'MemoryBuffer090',
    'UNK_180a3aa98': 'MemoryBuffer091',
    'UNK_180a3aab0': 'MemoryBuffer092',
    'UNK_180a3aac0': 'MemoryBuffer093',
    'UNK_180a3aad8': 'MemoryBuffer094',
    'UNK_180a3aae8': 'MemoryBuffer095',
    'UNK_180a3aaf8': 'MemoryBuffer096',
    'UNK_180a3ab08': 'MemoryBuffer097',
    'UNK_180a3ab18': 'MemoryBuffer098',
    'UNK_180a3ab28': 'MemoryBuffer099',
    'UNK_180a3ab38': 'MemoryBuffer100',
    'UNK_180a3ab50': 'MemoryBuffer101',
    'UNK_180a3ab60': 'MemoryBuffer102',
    'UNK_180a3ab70': 'MemoryBuffer103',
    'UNK_180a3ab80': 'MemoryBuffer104',
    'UNK_180a3ab90': 'MemoryBuffer105',
    'UNK_180a3aba0': 'MemoryBuffer106',
    'UNK_180a3abb0': 'MemoryBuffer107',
    'UNK_180a3abc0': 'MemoryBuffer108',
    'UNK_180a3abd0': 'MemoryBuffer109',
    'UNK_180a3abe0': 'MemoryBuffer110',
    'UNK_180a3abe8': 'MemoryBuffer111',
    'UNK_180a3ac00': 'MemoryBuffer112',
    'UNK_180a3ac10': 'MemoryBuffer113',
    'UNK_180a3ac18': 'MemoryBuffer114',
    'UNK_180a3ac30': 'MemoryBuffer115',
    'UNK_180a3ac48': 'MemoryBuffer116',
    'UNK_180a3ac68': 'MemoryBuffer117',
    'UNK_180a3ac80': 'MemoryBuffer118',
    'UNK_180a3ac90': 'MemoryBuffer119',
    'UNK_180a3aca8': 'MemoryBuffer120',
    'UNK_180a3acc8': 'MemoryBuffer121',
    'UNK_180a3acd8': 'MemoryBuffer122',
    'UNK_180a3acf8': 'MemoryBuffer123',
    'UNK_180a3ad18': 'MemoryBuffer124',
    'UNK_180a3ad30': 'MemoryBuffer125',
    'UNK_180a3ad60': 'MemoryBuffer126',
    'UNK_180a3ad88': 'MemoryBuffer127',
    'UNK_180a3ada0': 'MemoryBuffer128',
    'UNK_180a3adb8': 'MemoryBuffer129',
    'UNK_180a3add0': 'MemoryBuffer130',
    'UNK_180a3ade8': 'MemoryBuffer131',
    'UNK_180a3ae00': 'MemoryBuffer132',
    'UNK_180a3ae18': 'MemoryBuffer133',
    'UNK_180a2eac0': 'MemoryBuffer134',
    'UNK_180a3e5e8': 'MemoryBuffer135',
    'UNK_18064ffc0': 'MemoryBuffer136',
    'UNK_180a3c8c8': 'MemoryBuffer137',
    'UNK_180a3c908': 'MemoryBuffer138',
    'UNK_180a3d970': 'MemoryBuffer139',
    'UNK_180a3db60': 'MemoryBuffer140'
}

# 执行替换
for old_name, new_name in replacements.items():
    content = content.replace(old_name, new_name)

# 写回文件
with open('/dev/shm/mountblade-code/TaleWorlds.Native/src/06_utilities.c', 'w') as f:
    f.write(content)

print("变量重命名完成")