#!/usr/bin/env python3
"""
批量替换99_unmatched_functions.c文件中的FUN_函数名
"""

import re

# 函数名映射表
FUNCTION_MAPPINGS = {
    'FUN_1800e7e73': 'ProcessXmlContextData',
    'FUN_1800e7f04': 'ValidateXmlElement',
    'FUN_1800ee510': 'GetXmlDocumentPointer',
    'FUN_1800ee8d0': 'ConfigureXmlParser',
    'FUN_1800f5a90': 'ProcessXmlDocumentWithFormatting',
    'FUN_1800f63f0': 'GetXmlElementPointer',
    'FUN_1800f73a0': 'FormatXmlElementOutput',
    'FUN_1800f7a90': 'ProcessXmlElementData',
    'FUN_1800f7e80': 'ConfigureXmlAttributes',
    'FUN_1800f8630': 'ProcessXmlNamespace',
    'FUN_1800f88b9': 'ValidateXmlStructure',
    'FUN_1800f93e0': 'ParseXmlDocument',
    'FUN_1800f9600': 'ProcessXmlContent',
    'FUN_1800f98e0': 'ValidateXmlSchema',
    'FUN_1800f9ce0': 'GetXmlContextHandle',
    'FUN_1800fa6f0': 'InitializeXmlProcessor',
    'FUN_1800fa720': 'ConfigureXmlProcessor',
    'FUN_1800fb970': 'ProcessXmlString',
    'FUN_1800fba10': 'ValidateXmlString',
    'FUN_1800fc3c0': 'FormatXmlOutput',
    'FUN_1800fc420': 'ProcessXmlAttributes',
    'FUN_1800fc980': 'ConfigureXmlValidation',
    'FUN_1800fcd00': 'GetXmlValidationPointer',
    'FUN_1800fcd50': 'SetXmlValidationPointer',
    'FUN_1800fcf30': 'ProcessXmlValidation',
    'FUN_1800fd120': 'GetXmlSchemaPointer',
    'FUN_1800fd330': 'ConfigureXmlSchema',
    'FUN_1800fda70': 'ValidateXmlSchema',
    'FUN_180100b00': 'ProcessXmlSchema',
    'FUN_1801a35b0': 'InitializeXmlParser',
    'FUN_1801ab4c0': 'ConfigureXmlDocument',
    'FUN_1801b3ad0': 'ProcessXmlNamespace',
    'FUN_1801b3ba0': 'ValidateXmlNamespace',
    'FUN_1801b4fa0': 'GetXmlNamespacePointer',
    'FUN_1801b5f00': 'ProcessXmlElementAttributes',
    'FUN_1801b8150': 'ConfigureXmlElement',
    'FUN_1801b82f0': 'GetXmlElementHandle',
    'FUN_1801b89fa': 'ValidateXmlElementData',
    'FUN_1801b8c3d': 'ProcessXmlElementContent',
    'FUN_1801b8ccb': 'InitializeXmlElement',
    'FUN_1801b9a89': 'ValidateXmlDocument',
    'FUN_1801b9b2d': 'InitializeXmlDocument',
    'FUN_1801bde50': 'GetXmlDocumentPointer',
    'FUN_1801bde80': 'ProcessXmlDocument',
    'FUN_1801bdec0': 'ConfigureXmlDocument',
    'FUN_1801bdef0': 'ValidateXmlDocument',
    'FUN_1801be080': 'ProcessXmlAttributes',
    'FUN_1801be0f0': 'ValidateXmlAttributes',
    'FUN_1801c2360': 'GetXmlAttributePointer',
    'FUN_1801c24a0': 'ValidateXmlAttribute',
    'FUN_1801c2890': 'ProcessXmlAttribute',
    'FUN_1801c2940': 'ConfigureXmlAttribute',
    'FUN_1801c5bb0': 'InitializeXmlAttribute',
    'FUN_1801c6d60': 'ProcessXmlAttributeData',
    'FUN_1801c7fd0': 'ValidateXmlAttributeData',
    'FUN_1801c9940': 'ConfigureXmlAttributeData',
    'FUN_1801cff40': 'ProcessXmlNamespaceData',
    'FUN_1801de690': 'ValidateXmlNamespaceData',
    'FUN_1801e0ea0': 'ProcessXmlStringData',
    'FUN_1801e0eed': 'ValidateXmlStringData',
    'FUN_1801e1020': 'ConfigureXmlStringData',
    'FUN_1801e66c0': 'GetXmlStringPointer',
    'FUN_1801e6717': 'ProcessXmlString',
    'FUN_1801e6940': 'ValidateXmlString',
    'FUN_1801e77d0': 'ConfigureXmlString',
    'FUN_1801e7940': 'ProcessXmlBufferData',
    'FUN_1801e8100': 'ValidateXmlBuffer',
    'FUN_1801e82fc': 'InitializeXmlBuffer',
    'FUN_1801e8de0': 'ProcessXmlValidationData',
    'FUN_1801ea5e0': 'ConfigureXmlValidation',
    'FUN_1801ea730': 'ProcessXmlValidation',
    'FUN_1801ea9f0': 'ValidateXmlValidation',
    'FUN_1801eb780': 'InitializeXmlValidation',
    'FUN_1801eb7c0': 'ProcessXmlValidation',
    'FUN_1801eb8e0': 'GetXmlValidationPointer',
    'FUN_1801ebee0': 'ConfigureXmlValidation',
    'FUN_1801ebff0': 'ValidateXmlValidation',
    'FUN_1801ecc70': 'ProcessXmlSchemaData',
    'FUN_1801ee110': 'ValidateXmlSchemaData',
    'FUN_1801ee230': 'ProcessXmlSchema',
    'FUN_1801ee360': 'ConfigureXmlSchema',
    'FUN_1801ef300': 'InitializeXmlSchema',
    'FUN_1801ef620': 'ProcessXmlSchema',
    'FUN_1801efdb0': 'ValidateXmlSchema',
    'FUN_1801f21f0': 'ProcessXmlNamespaceData',
    'FUN_1801f2c40': 'ValidateXmlNamespaceData',
    'FUN_1801f36a0': 'ConfigureXmlNamespace',
    'FUN_1801f3710': 'ProcessXmlNamespace',
    'FUN_1801f3760': 'ValidateXmlNamespace',
    'FUN_1801f8e50': 'InitializeXmlNamespace',
    'FUN_1801f9cf0': 'GetXmlNamespacePointer',
    'FUN_1801f9d20': 'ProcessXmlNamespace',
    'FUN_1801fa050': 'ConfigureXmlNamespace',
    'FUN_1801fa0e0': 'ValidateXmlNamespace',
    'FUN_1801fa140': 'ProcessXmlNamespace',
    'FUN_1801fa180': 'GetXmlNamespacePointer',
    'FUN_1801fc650': 'ProcessXmlDocumentData',
    'FUN_1801fc6c0': 'ValidateXmlDocumentData',
    'FUN_1801fc900': 'ConfigureXmlDocument',
    'FUN_1801fc950': 'ProcessXmlDocument',
    'FUN_1801fc9a0': 'ValidateXmlDocument',
    'FUN_1801fc9f0': 'ProcessXmlDocument',
    'FUN_1801fca40': 'ValidateXmlDocument',
    'FUN_1801fcbc0': 'ProcessXmlDocument',
    'FUN_1801fd650': 'ValidateXmlDocument',
    'FUN_1801feca0': 'ProcessXmlDocument',
    'FUN_1802349a0': 'CalculateDistance',
    'FUN_18023a6d0': 'ProcessXmlValidation',
    'FUN_18023cff0': 'ConfigureXmlValidation',
    'FUN_18023d080': 'ValidateXmlValidation',
    'FUN_18023d990': 'ProcessXmlValidation',
    'FUN_18023da60': 'ConfigureXmlValidation',
    'FUN_18023db30': 'ProcessXmlValidation',
    'FUN_18023dc00': 'ValidateXmlValidation',
    'FUN_18023fe10': 'ProcessXmlValidation',
    'FUN_180240670': 'ValidateXmlValidation',
    'FUN_180241250': 'ProcessXmlValidation',
    'FUN_180241c8e': 'ValidateXmlValidation',
    'FUN_180241ca0': 'ConfigureXmlValidation',
    'FUN_180241e19': 'ProcessXmlValidation',
    'FUN_1802423b0': 'ValidateXmlValidation',
    'FUN_180243550': 'ProcessXmlValidation',
    'FUN_1802444c0': 'ValidateXmlValidation',
    'FUN_180244f00': 'ProcessXmlValidation',
    'FUN_18024c3f5': 'ValidateXmlValidation',
    'FUN_18024f160': 'ProcessXmlValidation',
    'FUN_180250be0': 'ConfigureXmlValidation',
    'FUN_180254f30': 'ValidateXmlValidation',
    'FUN_1802565b0': 'ProcessXmlValidation',
    'FUN_180256680': 'ValidateXmlValidation',
    'FUN_180257b30': 'ProcessXmlValidation',
    'FUN_180257c40': 'ConfigureXmlValidation',
    'FUN_180257f00': 'ProcessXmlValidation',
    'FUN_180258380': 'ValidateXmlValidation',
    'FUN_180258930': 'ProcessXmlValidation',
    'FUN_180258ab0': 'ConfigureXmlValidation',
    'FUN_180259450': 'ValidateXmlValidation',
    'FUN_18025b520': 'ProcessXmlValidation',
    'FUN_18025b7e0': 'ValidateXmlValidation',
    'FUN_18025b81e': 'ProcessXmlValidation',
    'FUN_18025bb00': 'ConfigureXmlValidation',
    'FUN_18025daf0': 'ProcessXmlValidation',
    'FUN_18025f2a0': 'ValidateXmlValidation',
    'FUN_180262470': 'ProcessXmlValidation',
    'FUN_1802624b0': 'ValidateXmlValidation',
    'FUN_180262560': 'ProcessXmlValidation',
    'FUN_180262600': 'ConfigureXmlValidation',
    'FUN_180262640': 'ProcessXmlValidation',
    'FUN_1802626f0': 'ValidateXmlValidation',
    'FUN_180262790': 'ProcessXmlValidation',
    'FUN_1802627c3': 'ConfigureXmlValidation',
    'FUN_1802692c0': 'ValidateXmlValidation',
    'FUN_1802699c0': 'ProcessXmlValidation',
    'FUN_18026daf0': 'ValidateXmlValidation',
    'FUN_1802ac0a0': 'ProcessXmlValidation',
    'FUN_1802ac390': 'ValidateXmlValidation',
    'FUN_1802ac4a0': 'ProcessXmlValidation',
    'FUN_1802ad980': 'ConfigureXmlValidation',
    'FUN_1802ae6e0': 'ValidateXmlValidation',
    'FUN_1802b4570': 'ProcessXmlValidation',
    'FUN_1802b4850': 'ValidateXmlValidation',
    'FUN_1802b5ac0': 'ProcessXmlValidation',
    'FUN_1802b61b0': 'ValidateXmlValidation',
    'FUN_1802b6690': 'ProcessXmlValidation',
    'FUN_1802b6b00': 'ValidateXmlValidation',
    'FUN_1802b6c00': 'ProcessXmlValidation',
    'FUN_1802bf350': 'ValidateXmlValidation',
    'FUN_1802c0230': 'ProcessXmlValidation',
    'FUN_1802c0330': 'ValidateXmlValidation',
    'FUN_1802c0390': 'ProcessXmlValidation',
    'FUN_1802c1260': 'ValidateXmlValidation',
    'FUN_1802c12e0': 'ProcessXmlValidation',
    'FUN_1802c1dc0': 'ValidateXmlValidation',
    'FUN_1802c2c40': 'ProcessXmlValidation',
    'FUN_1802c7220': 'ValidateXmlValidation',
    'FUN_1802c7238': 'ProcessXmlValidation',
    'FUN_1802c7ae0': 'ConfigureXmlValidation',
    'FUN_1802c7c60': 'ProcessXmlValidation',
    'FUN_1802c9580': 'ValidateXmlValidation',
    'FUN_1802c98d0': 'ProcessXmlValidation',
    'FUN_1802ca760': 'ValidateXmlValidation',
    'FUN_1802ca7d0': 'ProcessXmlValidation',
    'FUN_1802cb7a0': 'ValidateXmlValidation',
    'FUN_1802cf47f': 'ProcessXmlValidation',
    'FUN_1802cf530': 'ValidateXmlValidation',
    'FUN_1802d1f90': 'ProcessXmlValidation',
    'FUN_1802d1fb7': 'ValidateXmlValidation',
    'FUN_1802d2167': 'ProcessXmlValidation',
    'FUN_1802d2c20': 'ValidateXmlValidation',
    'FUN_1802d9200': 'ProcessXmlValidation',
    'FUN_1802d9380': 'ValidateXmlValidation',
    'FUN_1802e1950': 'ProcessXmlValidation',
    'FUN_1802e3860': 'ValidateXmlValidation',
    'FUN_1802e480c': 'ProcessXmlValidation',
    'FUN_1802e5300': 'ValidateXmlValidation',
    'FUN_1802e5430': 'ProcessXmlValidation',
    'FUN_1802e68a0': 'ValidateXmlValidation',
    'FUN_1802e6b00': 'ProcessXmlValidation',
    'FUN_1802e6ee0': 'ValidateXmlValidation',
    'FUN_1802e9158': 'ProcessXmlValidation',
    'FUN_1802ed211': 'ValidateXmlValidation',
    'FUN_1802ed230': 'ProcessXmlValidation',
    'FUN_1802ee610': 'ValidateXmlValidation',
    'FUN_1802eef70': 'ProcessXmlValidation',
    'FUN_1802efdd0': 'ValidateXmlValidation',
    'FUN_1802f0080': 'ProcessXmlValidation',
    'FUN_1802f0510': 'ValidateXmlValidation',
    'FUN_1802f0516': 'ProcessXmlValidation',
    'FUN_1802f0550': 'ValidateXmlValidation',
    'FUN_1802f05b8': 'ProcessXmlValidation',
}

def replace_function_names(file_path):
    """替换文件中的函数名"""
    with open(file_path, 'r', encoding='utf-8') as f:
        content = f.read()
    
    # 替换函数定义
    for old_name, new_name in FUNCTION_MAPPINGS.items():
        # 替换函数定义
        pattern = r'\b' + re.escape(old_name) + r'\b'
        content = re.sub(pattern, new_name, content)
    
    with open(file_path, 'w', encoding='utf-8') as f:
        f.write(content)
    
    print(f"已处理文件: {file_path}")

if __name__ == "__main__":
    file_path = "/dev/shm/mountblade-code/TaleWorlds.Native/src/99_unmatched_functions.c"
    replace_function_names(file_path)