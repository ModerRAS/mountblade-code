#!/bin/bash

# 美化01_initialization.c文件中的FUN_函数名
# 这个脚本将批量替换函数名为更具语义的名称

# 定义函数映射表
declare -A function_mapping

# 系统初始化相关函数
function_mapping["FUN_180050b00"]="InitializeSystemCore"
function_mapping["FUN_180050b30"]="SetupSystemCoreComponents"
function_mapping["FUN_1800524c0"]="ProcessSystemResourceData"
function_mapping["FUN_180053200"]="ConfigureSystemParameters"
function_mapping["FUN_1800533d0"]="SetupSystemMemoryAllocation"
function_mapping["FUN_180054360"]="ProcessSystemResourceTree"
function_mapping["FUN_1800547b0"]="InitializeSystemStateManager"
function_mapping["FUN_180055050"]="SetupSystemGlobalVariables"
function_mapping["FUN_180055e10"]="ProcessSystemHandle"
function_mapping["FUN_180055e30"]="InitializeSystemResourceContext"
function_mapping["FUN_180055e60"]="ValidateSystemResource"
function_mapping["FUN_180055e80"]="GetSystemResourceInfo"
function_mapping["FUN_180055ed0"]="CleanupSystemResource"
function_mapping["FUN_180055f20"]="SetupSystemResourceParameters"
function_mapping["FUN_180055f50"]="ReleaseSystemResourceHandle"
function_mapping["FUN_180055fa0"]="InitializeSystemConfiguration"
function_mapping["FUN_180056150"]="ProcessSystemResourceTree"
function_mapping["FUN_180056410"]="InitializeSystemSubResources"
function_mapping["FUN_1800565f0"]="SetupSystemResourceBuffers"
function_mapping["FUN_1800567c0"]="CreateSystemResourceHandle"
function_mapping["FUN_180056810"]="ConfigureSystemDataStructures"
function_mapping["FUN_180056b30"]="InitializeSystemMemoryManager"
function_mapping["FUN_180056c50"]="SetupSystemResourceTable"
function_mapping["FUN_180056de0"]="GetSystemResourcePointer"
function_mapping["FUN_180056e10"]="AccessSystemResourcePointer"
function_mapping["FUN_180056e40"]="InitializeSystemEventHandlers"
function_mapping["FUN_180056e60"]="CreateSystemResourcePointer"
function_mapping["FUN_180056e90"]="AllocateSystemResourcePointer"
function_mapping["FUN_180056f10"]="CompareSystemResourcePointers"
function_mapping["FUN_180056f70"]="ProcessSystemConfigurationData"
function_mapping["FUN_180057010"]="InitializeSystemThreadManager"
function_mapping["FUN_180057029"]="SetupSystemThreadPool"
function_mapping["FUN_180057062"]="InitializeSystemSynchronization"
function_mapping["FUN_180057090"]="ProcessSystemResourceRequest"
function_mapping["FUN_180057110"]="ProcessSystemResourceQueue"
function_mapping["FUN_180057170"]="InitializeSystemResourceAllocator"
function_mapping["FUN_1800571e0"]="SetupSystemResourcePointers"
function_mapping["FUN_1800572d0"]="ReleaseSystemMemoryBlock"
function_mapping["FUN_1800572e6"]="CleanupSystemMemoryPool"
function_mapping["FUN_180057314"]="InitializeSystemGarbageCollector"
function_mapping["FUN_180057340"]="ProcessSystemMemoryAllocation"
function_mapping["FUN_18005736b"]="SetupSystemMemoryRegions"
function_mapping["FUN_180057446"]="InitializeSystemPerformanceMonitor"
function_mapping["FUN_180057479"]="ConfigureSystemPerformanceCounters"
function_mapping["FUN_180057490"]="InitializeSystemResourceTracker"
function_mapping["FUN_1800574b0"]="ProcessSystemResourceHandle"
function_mapping["FUN_180057510"]="SetupSystemResourceManager"
function_mapping["FUN_180057530"]="InitializeSystemResourceCache"
function_mapping["FUN_180057550"]="ProcessSystemResourceCleanup"
function_mapping["FUN_180057556"]="ValidateSystemResourceState"
function_mapping["FUN_180057580"]="InitializeSystemErrorHandler"
function_mapping["FUN_1800575b6"]="SetupSystemExceptionHandlers"
function_mapping["FUN_1800575d4"]="InitializeSystemLogging"
function_mapping["FUN_1800575f0"]="ConfigureSystemLogParameters"
function_mapping["FUN_180057610"]="InitializeSystemLogManager"
function_mapping["FUN_180057680"]="ProcessSystemLogData"
function_mapping["FUN_180057730"]="SetupSystemLogBuffers"
function_mapping["FUN_180057790"]="InitializeSystemLogWriter"
function_mapping["FUN_180057796"]="ProcessSystemLogMessages"
function_mapping["FUN_180057814"]="FlushSystemLogBuffer"
function_mapping["FUN_180057830"]="CleanupSystemLogResources"
function_mapping["FUN_1800578a0"]="InitializeSystemDebugInterface"
function_mapping["FUN_180057980"]="ConfigureSystemDebugParameters"
function_mapping["FUN_180057b00"]="ProcessSystemResourceBuffer"
function_mapping["FUN_180057bf0"]="InitializeSystemDebugManager"
function_mapping["FUN_180057cb0"]="CreateSystemResourcePointer"
function_mapping["FUN_180057d70"]="SetupSystemDebugHandlers"
function_mapping["FUN_180057e90"]="InitializeSystemDebugLogger"
function_mapping["FUN_180057ec0"]="ConfigureSystemDebugOutput"
function_mapping["FUN_180057ee0"]="ProcessSystemDebugData"
function_mapping["FUN_180057f10"]="InitializeSystemDebugTracer"
function_mapping["FUN_180057f30"]="SetupSystemDebugBreakpoints"
function_mapping["FUN_180058000"]="ConfigureSystemDebugSettings"
function_mapping["FUN_180058020"]="InitializeSystemDebugProfiler"
function_mapping["FUN_180058080"]="AccessSystemResourceData"
function_mapping["FUN_180058160"]="ProcessSystemDebugStatistics"
function_mapping["FUN_180058210"]="InitializeSystemResourceManager"
function_mapping["FUN_1800582b0"]="SetupSystemResourceHandlers"
function_mapping["FUN_180058370"]="InitializeSystemResourceCache"
function_mapping["FUN_180058420"]="ConfigureSystemResourceParameters"
function_mapping["FUN_1800584e0"]="ProcessSystemResourceAllocation"
function_mapping["FUN_1800586e0"]="InitializeSystemResourcePool"
function_mapping["FUN_180058710"]="SetupSystemResourceQueues"
function_mapping["FUN_1800587d0"]="InitializeSystemResourceTable"
function_mapping["FUN_1800587e2"]="ProcessSystemResourceEntries"
function_mapping["FUN_180058826"]="InitializeSystemResourceIndex"
function_mapping["FUN_180058830"]="ConfigureSystemResourceMapping"
function_mapping["FUN_1800588c0"]="ProcessSystemResourceLookup"
function_mapping["FUN_1800588fc"]="InitializeSystemResourceHash"
function_mapping["FUN_18005892b"]="SetupSystemResourceBuckets"
function_mapping["FUN_18005895a"]="InitializeSystemResourceCollision"
function_mapping["FUN_1800589a3"]="ProcessSystemResourceSearch"
function_mapping["FUN_180058a20"]="InitializeSystemResourceIterator"
function_mapping["FUN_180058a31"]="SetupSystemResourceTraversal"
function_mapping["FUN_180058b3e"]="ProcessSystemResourceEnumeration"
function_mapping["FUN_180058bfa"]="InitializeSystemResourceSorter"
function_mapping["FUN_180058c16"]="SetupSystemResourceComparator"
function_mapping["FUN_180058c20"]="ProcessSystemResourceSorting"
function_mapping["FUN_180058c80"]="InitializeSystemResourceFilter"
function_mapping["FUN_180058cc0"]="SetupSystemResourceValidator"
function_mapping["FUN_180058d20"]="ProcessSystemResourceValidation"
function_mapping["FUN_180058d90"]="InitializeSystemResourceAuditor"
function_mapping["FUN_180058db0"]="ConfigureSystemResourceAudit"
function_mapping["FUN_180058e60"]="ProcessSystemResourceAuditData"
function_mapping["FUN_180058e90"]="InitializeSystemResourceReporter"
function_mapping["FUN_180058f00"]="SetupSystemResourceMetrics"
function_mapping["FUN_180059000"]="ProcessSystemResourceStatistics"
function_mapping["FUN_1800590b0"]="AllocateSystemResourceMemory"
function_mapping["FUN_1800591c0"]="InitializeSystemResourceAnalyzer"
function_mapping["FUN_180059230"]="ConfigureSystemResourceAnalysis"
function_mapping["FUN_180059250"]="ProcessSystemResourceLookup"
function_mapping["FUN_1800592e4"]="ProcessSystemResourceOptimization"
function_mapping["FUN_180059300"]="OptimizeSystemResourceAllocation"
function_mapping["FUN_180059350"]="InitializeSystemResourceOptimizer"
function_mapping["FUN_180059380"]="SetupSystemResourceHeuristics"
function_mapping["FUN_1800593f0"]="ProcessSystemResourceTuning"
function_mapping["FUN_1800594b0"]="InitializeSystemResourceBalancer"
function_mapping["FUN_1800595c0"]="SetupSystemResourceLoadBalancer"
function_mapping["FUN_180059620"]="ProcessSystemResourceDistribution"
function_mapping["FUN_180059640"]="InitializeSystemResourceScheduler"
function_mapping["FUN_1800596a0"]="SetupSystemResourcePrioritizer"
function_mapping["FUN_180059730"]="ProcessSystemResourceScheduling"
function_mapping["FUN_180059820"]="InitializeSystemResourceDispatcher"
function_mapping["FUN_180059940"]="SetupSystemResourceDispatcher"
function_mapping["FUN_1800599c0"]="ProcessSystemResourceDispatch"
function_mapping["FUN_1800599df"]="InitializeSystemResourceCollector"
function_mapping["FUN_180059a04"]="SetupSystemResourceGarbageCollection"
function_mapping["FUN_180059a20"]="ProcessSystemResourceCleanup"
function_mapping["FUN_180059ba0"]="InitializeSystemResourceFinalizer"
function_mapping["FUN_180059bc0"]="SetupSystemResourceFinalization"
function_mapping["FUN_180059ee4"]="ProcessSystemResourceTermination"
function_mapping["FUN_180059ef9"]="InitializeSystemResourceRecycler"
function_mapping["FUN_180059f4f"]="SetupSystemResourceRecycling"
function_mapping["FUN_180059fb0"]="ProcessSystemResourceReuse"
function_mapping["FUN_180059fc0"]="InitializeSystemResourceReclaimer"
function_mapping["FUN_18005a010"]="SetupSystemResourceReclamation"
function_mapping["FUN_18005a050"]="ProcessSystemResourceRecovery"
function_mapping["FUN_18005a100"]="InitializeSystemResourceRestorer"
function_mapping["FUN_18005a130"]="SetupSystemResourceRestoration"
function_mapping["FUN_18005a170"]="ProcessSystemResourceRecovery"
function_mapping["FUN_18005a200"]="InitializeSystemResourceReviver"
function_mapping["FUN_18005a500"]="SetupSystemResourceRevival"
function_mapping["FUN_18005a9a0"]="ProcessSystemResourceResurrection"
function_mapping["FUN_18005aaf0"]="InitializeSystemResourceRejuvenator"
function_mapping["FUN_18005ab20"]="SetupSystemResourceRejuvenation"
function_mapping["FUN_18005ab50"]="ProcessSystemResourceRefresh"
function_mapping["FUN_18005ac00"]="InitializeSystemResourceRefresher"
function_mapping["FUN_18005b560"]="SetupSystemResourceRefreshing"
function_mapping["FUN_18005b7c0"]="ProcessSystemResourceRenewal"
function_mapping["FUN_18005b960"]="InitializeSystemResourceRenewer"
function_mapping["FUN_18005ba80"]="SetupSystemResourceRenewal"
function_mapping["FUN_18005c090"]="CreateSystemResourcePointer"
function_mapping["FUN_18005c1c0"]="ProcessSystemResourceData"
function_mapping["FUN_18005c2a0"]="AllocateSystemResourceMemory"
function_mapping["FUN_18005c380"]="ProcessSystemResourceRegeneration"
function_mapping["FUN_18005c3d0"]="InitializeSystemResourceRegenerator"
function_mapping["FUN_18005c560"]="SetupSystemResourceRegeneration"
function_mapping["FUN_18005c650"]="ProcessSystemResourceRecreation"
function_mapping["FUN_18005c830"]="InitializeSystemResourceRecreator"
function_mapping["FUN_18005c8a0"]="ProcessSystemResourceRebuilding"
function_mapping["FUN_18005c930"]="SetupSystemResourceRecreation"
function_mapping["FUN_18005ca20"]="ProcessSystemResourceRebuilding"
function_mapping["FUN_18005cb60"]="ReleaseSystemResourcePointer"
function_mapping["FUN_18005cc00"]="InitializeSystemResourceRebuilder"
function_mapping["FUN_18005ce30"]="CreateSystemResourcePointer"
function_mapping["FUN_18005d0e0"]="SetupSystemResourceRebuilding"
function_mapping["FUN_18005d1f0"]="ProcessSystemResourceRestoration"
function_mapping["FUN_18005d260"]="InitializeSystemResourceRestorer"
function_mapping["FUN_18005d310"]="SetupSystemResourceRestoration"
function_mapping["FUN_18005d330"]="ProcessSystemResourceRecovery"
function_mapping["FUN_18005d580"]="InitializeSystemResourceAllocator"
function_mapping["FUN_18005d5d0"]="SetupSystemResourceAllocation"
function_mapping["FUN_18005d600"]="ProcessSystemResourceAllocation"
function_mapping["FUN_18005d660"]="InitializeSystemResourceManager"
function_mapping["FUN_18005d6b0"]="SetupSystemResourceManagement"
function_mapping["FUN_18005d730"]="ProcessSystemResourceManagement"
function_mapping["FUN_18005d7a0"]="InitializeSystemResourceController"
function_mapping["FUN_18005d800"]="SetupSystemResourceControl"
function_mapping["FUN_18005d860"]="ProcessSystemResourceControl"
function_mapping["FUN_18005d8c0"]="InitializeSystemResourceHandler"
function_mapping["FUN_18005d920"]="SetupSystemResourceHandling"
function_mapping["FUN_18005d980"]="ProcessSystemResourceHandling"
function_mapping["FUN_18005d9e0"]="InitializeSystemResourceProcessor"
function_mapping["FUN_18005da40"]="SetupSystemResourceProcessing"
function_mapping["FUN_18005daa0"]="ProcessSystemResourceProcessing"
function_mapping["FUN_18005db00"]="InitializeSystemResourceExecutor"
function_mapping["FUN_18005db60"]="SetupSystemResourceExecution"
function_mapping["FUN_18005dbc0"]="ProcessSystemResourceExecution"
function_mapping["FUN_18005dc20"]="InitializeSystemResourceOperator"
function_mapping["FUN_18005dc80"]="SetupSystemResourceOperation"
function_mapping["FUN_18005dce0"]="ProcessSystemResourceOperation"
function_mapping["FUN_18005dd40"]="InitializeSystemResourceWorker"
function_mapping["FUN_18005dda0"]="SetupSystemResourceWork"
function_mapping["FUN_18005de00"]="ProcessSystemResourceWork"
function_mapping["FUN_18005de60"]="InitializeSystemResourceTask"
function_mapping["FUN_18005dec0"]="SetupSystemResourceTasking"
function_mapping["FUN_18005df20"]="ProcessSystemResourceTasking"
function_mapping["FUN_18005df80"]="InitializeSystemResourceJob"
function_mapping["FUN_18005dfe0"]="SetupSystemResourceJobbing"
function_mapping["FUN_18005e040"]="ProcessSystemResourceJobbing"
function_mapping["FUN_18005e0a0"]="InitializeSystemResourceRoutine"
function_mapping["FUN_18005e100"]="SetupSystemResourceRoutining"
function_mapping["FUN_18005e160"]="ProcessSystemResourceRoutining"
function_mapping["FUN_18005e1c0"]="InitializeSystemResourceProcedure"
function_mapping["FUN_18005e220"]="SetupSystemResourceProceduring"
function_mapping["FUN_18005e280"]="ProcessSystemResourceProceduring"
function_mapping["FUN_18005e2e0"]="InitializeSystemResourceFunction"
function_mapping["FUN_18005e340"]="SetupSystemResourceFunctioning"
function_mapping["FUN_18005e370"]="ProcessSystemResourceFunctioning"
function_mapping["FUN_18005e3d0"]="InitializeSystemResourceMethod"
function_mapping["FUN_18005e430"]="SetupSystemResourceMethoding"
function_mapping["FUN_18005e490"]="ProcessSystemResourceMethoding"
function_mapping["FUN_18005e4f0"]="InitializeSystemResourceAction"
function_mapping["FUN_18005e550"]="SetupSystemResourceActioning"
function_mapping["FUN_18005e570"]="ProcessSystemResourceActioning"
function_mapping["FUN_18005e5b0"]="InitializeSystemResourceActivity"
function_mapping["FUN_18005e610"]="SetupSystemResourceActivitying"
function_mapping["FUN_18005e630"]="ProcessSystemResourceActivitying"
function_mapping["FUN_18005e690"]="InitializeSystemResourceOperation"
function_mapping["FUN_18005e6a0"]="SetupSystemResourceOperating"
function_mapping["FUN_18005e700"]="ProcessSystemResourceOperating"
function_mapping["FUN_18005e760"]="InitializeSystemResourceProcess"
function_mapping["FUN_18005e7c0"]="SetupSystemResourceProcessing"
function_mapping["FUN_18005e820"]="ProcessSystemResourceProcessing"
function_mapping["FUN_18005e890"]="InitializeSystemResourceAllocator"
function_mapping["FUN_18005e8f0"]="SetupSystemResourceAllocating"
function_mapping["FUN_18005e950"]="ProcessSystemResourceAllocating"
function_mapping["FUN_18005ea90"]="InitializeSystemResourceManager"
function_mapping["FUN_18005eaf0"]="SetupSystemResourceManaging"
function_mapping["FUN_18005eb50"]="ProcessSystemResourceManaging"
function_mapping["FUN_18005ebb0"]="InitializeSystemResourceController"
function_mapping["FUN_18005ec10"]="SetupSystemResourceControlling"
function_mapping["FUN_18005ec70"]="ProcessSystemResourceControlling"
function_mapping["FUN_18005ecd0"]="InitializeSystemResourceDirector"
function_mapping["FUN_18005ed30"]="SetupSystemResourceDirecting"
function_mapping["FUN_18005ed90"]="ProcessSystemResourceDirecting"
function_mapping["FUN_18005edf0"]="InitializeSystemResourceSupervisor"
function_mapping["FUN_18005ee50"]="SetupSystemResourceSupervising"
function_mapping["FUN_18005eeb0"]="ProcessSystemResourceSupervising"
function_mapping["FUN_18005ef10"]="InitializeSystemResourceAdministrator"
function_mapping["FUN_18005ef70"]="SetupSystemResourceAdministrating"
function_mapping["FUN_18005efd0"]="ProcessSystemResourceAdministrating"
function_mapping["FUN_18005f030"]="InitializeSystemResourceOperator"
function_mapping["FUN_18005f090"]="SetupSystemResourceOperating"
function_mapping["FUN_18005f0f0"]="ProcessSystemResourceOperating"
function_mapping["FUN_18005f150"]="InitializeSystemResourceTechnician"
function_mapping["FUN_18005f1b0"]="SetupSystemResourceTechnicing"
function_mapping["FUN_18005f210"]="ProcessSystemResourceTechnicing"
function_mapping["FUN_18005f270"]="InitializeSystemResourceMechanic"
function_mapping["FUN_18005f2d0"]="SetupSystemResourceMechaning"
function_mapping["FUN_18005f330"]="ProcessSystemResourceMechaning"
function_mapping["FUN_18005f390"]="InitializeSystemResourceEngineer"
function_mapping["FUN_18005f3f0"]="SetupSystemResourceEngineering"
function_mapping["FUN_18005f450"]="ProcessSystemResourceEngineering"
function_mapping["FUN_18005f4b0"]="InitializeSystemResourceDeveloper"
function_mapping["FUN_18005f510"]="SetupSystemResourceDeveloping"
function_mapping["FUN_18005f570"]="ProcessSystemResourceDeveloping"
function_mapping["FUN_18005f5d0"]="InitializeSystemResourceCreator"
function_mapping["FUN_18005f630"]="SetupSystemResourceCreating"
function_mapping["FUN_18005f690"]="ProcessSystemResourceCreating"
function_mapping["FUN_18005f6f0"]="InitializeSystemResourceBuilder"
function_mapping["FUN_18005f750"]="SetupSystemResourceBuilding"
function_mapping["FUN_18005f7b0"]="ProcessSystemResourceBuilding"
function_mapping["FUN_18005f810"]="InitializeSystemResourceConstructor"
function_mapping["FUN_18005f870"]="SetupSystemResourceConstructing"
function_mapping["FUN_18005f8d0"]="ProcessSystemResourceConstructing"
function_mapping["FUN_18005f930"]="InitializeSystemResourceMaker"
function_mapping["FUN_18005f990"]="SetupSystemResourceMaking"
function_mapping["FUN_18005f9f0"]="ProcessSystemResourceMaking"
function_mapping["FUN_18005fa50"]="InitializeSystemResourceProducer"
function_mapping["FUN_18005fab0"]="SetupSystemResourceProducing"
function_mapping["FUN_18005fb10"]="ProcessSystemResourceProducing"
function_mapping["FUN_18005fb70"]="InitializeSystemResourceGenerator"
function_mapping["FUN_18005fbd0"]="SetupSystemResourceGenerating"
function_mapping["FUN_18005fc30"]="ProcessSystemResourceGenerating"
function_mapping["FUN_18005fc90"]="InitializeSystemResourceFabricator"
function_mapping["FUN_18005fcf0"]="SetupSystemResourceFabricating"
function_mapping["FUN_18005fd50"]="ProcessSystemResourceFabricating"
function_mapping["FUN_18005fdb0"]="InitializeSystemResourceManufacturer"
function_mapping["FUN_18005fe10"]="SetupSystemResourceManufacturing"
function_mapping["FUN_18005fe70"]="ProcessSystemResourceManufacturing"
function_mapping["FUN_18005fed0"]="InitializeSystemResourceAssembler"
function_mapping["FUN_18005ff30"]="SetupSystemResourceAssembling"
function_mapping["FUN_18005ff90"]="ProcessSystemResourceAssembling"

# 处理文件
input_file="/dev/shm/mountblade-code/TaleWorlds.Native/src/01_initialization.c"
temp_file="/tmp/01_initialization_temp.c"

# 备份原始文件
cp "$input_file" "$input_file.bak"

# 创建临时文件
cp "$input_file" "$temp_file"

# 替换函数名
for old_name in "${!function_mapping[@]}"; do
    new_name="${function_mapping[$old_name]}"
    
    # 替换函数定义和调用
    sed -i "s/$old_name(/$new_name(/g" "$temp_file"
    
    # 替换注释中的函数名
    sed -i "s/函数: $old_name/函数: $new_name/g" "$temp_file"
done

# 更新文件
mv "$temp_file" "$input_file"

echo "函数名替换完成"