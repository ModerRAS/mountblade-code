#!/bin/bash

# 美化01_initialization.c文件中的FUN_函数名
# 将FUN_函数重命名为具有语义的名称

FILE="/dev/shm/mountblade-code/TaleWorlds.Native/src/01_initialization.c"

# 备份原始文件
cp "$FILE" "$FILE.backup"

echo "开始替换FUN_函数名..."

# 系统函数替换
sed -i 's/FUN_180142b20/SystemMemoryAllocatorEx/g' "$FILE"
sed -i 's/FUN_18004bf50/SystemQueueItemProcessor/g' "$FILE"
sed -i 's/FUN_180057170/SystemStateResetHandler/g' "$FILE"
sed -i 's/FUN_18005e570/SystemAllocationFlagsProcessor/g' "$FILE"
sed -i 's/FUN_180174950/SystemGlobalInitializer/g' "$FILE"
sed -i 's/FUN_180057d70/SystemHandleProcessor/g' "$FILE"
sed -i 's/FUN_180057550/SystemResourceManager/g' "$FILE"
sed -i 's/FUN_1800578a0/SystemContextManager/g' "$FILE"
sed -i 's/FUN_180057830/SystemMemoryManager/g' "$FILE"
sed -i 's/FUN_18005d260/SystemResourceUpdater/g' "$FILE"
sed -i 's/FUN_18005d580/SystemCleanupHandler/g' "$FILE"
sed -i 's/FUN_1800590b0/SystemAllocationFlagsHandler/g' "$FILE"
sed -i 's/FUN_18005d1f0/SystemResourceContextHandler/g' "$FILE"
sed -i 's/FUN_180092820/SystemRenderManager/g' "$FILE"
sed -i 's/FUN_18005ca20/SystemNodeManager/g' "$FILE"
sed -i 's/FUN_1801725e0/SystemRenderProcessor/g' "$FILE"
sed -i 's/FUN_1800a3880/SystemTextureManager/g' "$FILE"
sed -i 's/FUN_180062300/SystemContextManagerEx/g' "$FILE"
sed -i 's/FUN_180628380/SystemDataProcessor/g' "$FILE"
sed -i 's/FUN_1806277c0/SystemDataWriter/g' "$FILE"
sed -i 's/FUN_180627ae0/SystemDataAllocator/g' "$FILE"
sed -i 's/FUN_18005c8a0/SystemMemoryBufferHandler/g' "$FILE"
sed -i 's/FUN_180171f10/SystemStatusFlagsHandler/g' "$FILE"
sed -i 's/FUN_18020e0e0/SystemEventProcessor/g' "$FILE"
sed -i 's/FUN_18020e840/SystemEventHandler/g' "$FILE"
sed -i 's/FUN_18005ea90/SystemInputEventHandler/g' "$FILE"
sed -i 's/FUN_1802567b0/SystemResourceManagerEx/g' "$FILE"
sed -i 's/FUN_18008d660/SystemNodeProcessor/g' "$FILE"
sed -i 's/FUN_18005e630/SystemAllocationTemplateHandler/g' "$FILE"
sed -i 's/FUN_18005e890/SystemMemoryAllocatorEx/g' "$FILE"
sed -i 's/FUN_180126380/SystemResourceReleaseHandler/g' "$FILE"
sed -i 's/FUN_180095420/SystemResourceCleanupHandler/g' "$FILE"
sed -i 's/FUN_18016cef0/SystemMemoryFinalizer/g' "$FILE"
sed -i 's/FUN_18005e6a0/SystemMemoryAllocationHandler/g' "$FILE"
sed -i 's/FUN_18006eb30/SystemAllocationFinalizer/g' "$FILE"
sed -i 's/FUN_18062bd50/SystemStringProcessor/g' "$FILE"
sed -i 's/FUN_180050b00/SystemMainInitializer/g' "$FILE"
sed -i 's/FUN_180050b30/SystemSubInitializer/g' "$FILE"
sed -i 's/FUN_18004be90/SystemGraphicsContextHandler/g' "$FILE"
sed -i 's/FUN_1801edeb0/SystemRenderMemoryAllocator/g' "$FILE"
sed -i 's/FUN_18004e5f0/SystemFlagsHandler/g' "$FILE"
sed -i 's/FUN_1800572d0/SystemMemoryRegionHandler/g' "$FILE"
sed -i 's/FUN_180091020/SystemTimeHandler/g' "$FILE"
sed -i 's/FUN_1801ed510/SystemTimeProcessor/g' "$FILE"
sed -i 's/FUN_180160500/SystemSecurityHandler/g' "$FILE"
sed -i 's/FUN_180051d40/SystemResourceManagerDual/g' "$FILE"
sed -i 's/FUN_1806279c0/SystemDataInitializer/g' "$FILE"
sed -i 's/FUN_180057110/SystemResourceInitializer/g' "$FILE"
sed -i 's/FUN_180059820/SystemResourceHandlerEx/g' "$FILE"
sed -i 's/FUN_180628d60/SystemMemoryRegionProcessor/g' "$FILE"
sed -i 's/FUN_1800524c0/SystemMemoryPointerHandler/g' "$FILE"
sed -i 's/FUN_180052940/SystemFloatParameterHandler/g' "$FILE"
sed -i 's/FUN_1808fcb90/SystemDataLockHandler/g' "$FILE"
sed -i 's/FUN_1808fcb30/SystemDataUnlockHandler/g' "$FILE"
sed -i 's/FUN_180052ef0/SystemResourceHandlerWithFlags/g' "$FILE"
sed -i 's/FUN_18004caf0/SystemResourceHandler/g' "$FILE"
sed -i 's/FUN_18005c650/SystemStackProcessor/g' "$FILE"
sed -i 's/FUN_18005c2a0/SystemResourceAllocator/g' "$FILE"
sed -i 's/FUN_18005e370/SystemResourceDeallocator/g' "$FILE"
sed -i 's/FUN_180053200/SystemDataWriterEx/g' "$FILE"
sed -i 's/FUN_180623de0/SystemDataBufferInitializer/g' "$FILE"
sed -i 's/FUN_1800533d0/SystemResourceHandlerWithParam/g' "$FILE"
sed -i 's/FUN_180060680/SystemDataBufferProcessor/g' "$FILE"
sed -i 's/FUN_180627910/SystemBufferWriter/g' "$FILE"
sed -i 's/FUN_18062b8b0/SystemMemoryCopyHandler/g' "$FILE"
sed -i 's/FUN_180052200/SystemResourceHandlerWithParamEx/g' "$FILE"
sed -i 's/FUN_180627c50/SystemDataBufferInitializerEx/g' "$FILE"
sed -i 's/FUN_1801954d0/SystemResourceAllocatorEx/g' "$FILE"
sed -i 's/FUN_18019e140/SystemEventProcessorEx/g' "$FILE"
sed -i 's/FUN_1801426a0/SystemFlagsProcessor/g' "$FILE"
sed -i 's/FUN_180628ca0/SystemAllocationFlagsGenerator/g' "$FILE"
sed -i 's/FUN_1801a6440/SystemResourceProcessorEx/g' "$FILE"
sed -i 's/FUN_18019e260/SystemResourceFinalizer/g' "$FILE"
sed -i 's/FUN_180199500/SystemResourceValidator/g' "$FILE"
sed -i 's/FUN_1801a2ea0/SystemResourceConfigurator/g' "$FILE"
sed -i 's/FUN_1800547b0/SystemConfigurationHandler/g' "$FILE"
sed -i 's/FUN_180624a00/SystemStringValidator/g' "$FILE"
sed -i 's/FUN_18062c5f0/SystemStringProcessorEx/g' "$FILE"
sed -i 's/FUN_18004b100/SystemResourceInitializerEx/g' "$FILE"
sed -i 's/FUN_180628040/SystemDataWriterEx/g' "$FILE"
sed -i 's/FUN_180624910/SystemStringFinalizer/g' "$FILE"
sed -i 's/FUN_180061db0/SystemResourceLockHandler/g' "$FILE"
sed -i 's/FUN_180061be0/SystemResourceUnlockHandler/g' "$FILE"
sed -i 's/FUN_180624af0/SystemStringValidatorEx/g' "$FILE"
sed -i 's/FUN_180629a40/SystemDataWriterEx/g' "$FILE"
sed -i 's/FUN_180054360/SystemResourceHandlerWithParamDual/g' "$FILE"
sed -i 's/FUN_18005c1c0/SystemResourceProcessorDual/g' "$FILE"
sed -i 's/FUN_180055050/SystemResourceSetupHandler/g' "$FILE"
sed -i 's/FUN_18005c090/SystemResourceAllocatorDual/g' "$FILE"
sed -i 's/FUN_18015c450/SystemResourceAllocatorTriple/g' "$FILE"
sed -i 's/FUN_180055e10/SystemResourceHandlerWithOffset/g' "$FILE"
sed -i 's/FUN_180058c20/SystemResourceProcessorWithOffset/g' "$FILE"
sed -i 's/FUN_180055e30/SystemResourceHandlerWithOffsetEx/g' "$FILE"
sed -i 's/FUN_180058210/SystemResourceHandlerWithOffsetDual/g' "$FILE"
sed -i 's/FUN_180055e60/SystemResourceHandlerWithOffsetTriple/g' "$FILE"
sed -i 's/FUN_180055e80/SystemResourceHandlerWithOffsetQuad/g' "$FILE"
sed -i 's/FUN_180055ed0/SystemResourceHandlerWithOffsetQuintuple/g' "$FILE"
sed -i 's/FUN_180055f20/SystemResourceHandlerWithOffsetSextuple/g' "$FILE"
sed -i 's/FUN_180055f50/SystemResourceHandlerWithOffsetSeptuple/g' "$FILE"
sed -i 's/FUN_180055f70/SystemResourceHandlerWithOffsetOctuple/g' "$FILE"
sed -i 's/FUN_180055fa0/SystemDataStructureInitializer/g' "$FILE"
sed -i 's/FUN_1801299b0/SystemDataStructureProcessor/g' "$FILE"
sed -i 's/FUN_18010f010/SystemDataStructureWriter/g' "$FILE"
sed -i 's/FUN_18012cfe0/SystemDataStructureFinalizer/g' "$FILE"
sed -i 's/FUN_180056150/SystemResourceHandlerRecursive/g' "$FILE"
sed -i 's/FUN_180058a20/SystemResourceProcessorRecursive/g' "$FILE"
sed -i 's/FUN_180056410/SystemResourceHandlerRecursiveEx/g' "$FILE"
sed -i 's/FUN_180057340/SystemResourceResetHandler/g' "$FILE"
sed -i 's/FUN_1800565f0/SystemResourceHandlerWithBuffer/g' "$FILE"
sed -i 's/FUN_1800567c0/SystemResourceHandlerWithBufferEx/g' "$FILE"
sed -i 's/FUN_180056810/SystemResourceHandlerWithBufferTriple/g' "$FILE"
sed -i 's/FUN_180056b30/SystemResourceHandlerWithBufferQuad/g' "$FILE"
sed -i 's/FUN_1800b4ec0/SystemResourceHandlerWithBufferQuintuple/g' "$FILE"
sed -i 's/FUN_180056c50/SystemResourceHandlerWithBufferSextuple/g' "$FILE"
sed -i 's/FUN_18005ce30/SystemResourceHandlerWithBufferSeptuple/g' "$FILE"
sed -i 's/FUN_180056de0/SystemResourceHandlerWithBufferOctuple/g' "$FILE"
sed -i 's/FUN_180056e10/SystemResourceHandlerWithBufferNonuple/g' "$FILE"
sed -i 's/FUN_180056e40/SystemResourceHandlerWithBufferDecuple/g' "$FILE"
sed -i 's/FUN_180056e60/SystemResourceHandlerWithBufferUndecuple/g' "$FILE"
sed -i 's/FUN_180056e90/SystemResourceHandlerWithBufferDuodecuple/g' "$FILE"
sed -i 's/FUN_180059ba0/SystemResourceHandlerWithBufferTredecuple/g' "$FILE"
sed -i 's/FUN_180056f10/SystemResourceHandlerWithBufferQuattuordecuple/g' "$FILE"
sed -i 's/FUN_180056f70/SystemResourceHandlerWithBufferQuindecuple/g' "$FILE"
sed -i 's/FUN_180057029/SystemResourceHandlerWithBufferSexdecuple/g' "$FILE"
sed -i 's/FUN_180086670/SystemResourceHandlerWithBufferSeptendecuple/g' "$FILE"
sed -i 's/FUN_1800868d0/SystemResourceHandlerWithBufferOctodecuple/g' "$FILE"
sed -i 's/FUN_180086600/SystemResourceHandlerWithBufferNovemdecuple/g' "$FILE"
sed -i 's/FUN_180086960/SystemResourceHandlerWithBufferVigintuple/g' "$FILE"
sed -i 's/FUN_180086a00/SystemResourceHandlerWithBufferUnvigintuple/g' "$FILE"
sed -i 's/FUN_180086740/SystemResourceHandlerWithBufferDuovigintuple/g' "$FILE"
sed -i 's/FUN_180086aa0/SystemResourceHandlerWithBufferTrevigintuple/g' "$FILE"
sed -i 's/FUN_1800900c0/SystemResourceHandlerWithBufferQuattuorvigintuple/g' "$FILE"
sed -i 's/FUN_180086830/SystemResourceHandlerWithBufferQuinvigintuple/g' "$FILE"
sed -i 's/FUN_180090020/SystemResourceHandlerWithBufferSexvigintuple/g' "$FILE"
sed -i 's/FUN_180086b40/SystemResourceHandlerWithBufferSeptenvigintuple/g' "$FILE"

# 清理备份文件
rm -f "$FILE.backup"

echo "FUN_函数名替换完成！"