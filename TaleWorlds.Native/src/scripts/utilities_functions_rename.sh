#!/bin/bash

# 创建一个函数重命名映射文件
cat > /tmp/function_rename_map.txt << 'EOF'
# Unwind函数重命名映射
Unwind_180910000=UnwindObjectContextValidation
Unwind_180910010=UnwindResourceCleanupHandler
Unwind_180910020=UnwindMemoryReleaseHandler
Unwind_180910030=UnwindSystemStateReset
Unwind_180910040=UnwindThreadCleanupHandler
Unwind_180910050=UnwindResourceReleaseHandler
Unwind_180910060=UnwindSystemResourceRelease
Unwind_180910070=UnwindContextCleanupHandler
Unwind_180910080=UnwindValidationContextCleanup
Unwind_180910090=UnwindSystemResourceCleanup
Unwind_180910100=UnwindSystemMemoryCleanup
Unwind_180910110=UnwindSystemThreadCleanup
Unwind_180910130=UnwindSystemQueueCleanup
Unwind_180910150=UnwindSystemBufferCleanup
Unwind_180910160=UnwindSystemPoolCleanup
Unwind_180910190=UnwindSystemCacheCleanup
Unwind_180910200=UnwindSystemLockCleanup
Unwind_180910210=UnwindSystemMutexCleanup
Unwind_180910220=UnwindSystemSemaphoreCleanup
Unwind_180910230=UnwindSystemEventCleanup
Unwind_180910240=UnwindSystemTimerCleanup
Unwind_180910250=UnwindSystemCallbackCleanup
Unwind_180910260=UnwindSystemHandlerCleanup
Unwind_180910270=UnwindSystemManagerCleanup
Unwind_180910280=UnwindSystemControllerCleanup
Unwind_180910300=UnwindSystemResourceCleanupWithFlags
Unwind_180910310=UnwindSystemMemoryCleanupWithFlags
Unwind_180910320=UnwindSystemThreadCleanupWithFlags
Unwind_180910330=UnwindSystemQueueCleanupWithFlags
Unwind_180910340=UnwindSystemBufferCleanupWithFlags
Unwind_180910350=UnwindSystemPoolCleanupWithFlags
Unwind_180910400=UnwindSystemCacheCleanupWithFlags
Unwind_180910410=UnwindSystemLockCleanupWithFlags
Unwind_180910420=UnwindSystemMutexCleanupWithFlags
Unwind_180910430=UnwindSystemSemaphoreCleanupWithFlags
Unwind_180910440=UnwindSystemEventCleanupWithFlags
Unwind_180910450=UnwindSystemTimerCleanupWithFlags
Unwind_180910470=UnwindSystemCallbackCleanupWithFlags
Unwind_180910490=UnwindSystemHandlerCleanupWithFlags
Unwind_180910510=UnwindSystemManagerCleanupWithFlags
Unwind_180910530=UnwindSystemControllerCleanupWithFlags
Unwind_180910560=UnwindSystemResourceHandlerCleanup
Unwind_180910580=UnwindSystemMemoryHandlerCleanup
Unwind_180910590=UnwindSystemThreadHandlerCleanup
Unwind_180910600=UnwindSystemQueueHandlerCleanup
Unwind_180910620=UnwindSystemBufferHandlerCleanup
Unwind_180910640=UnwindSystemPoolHandlerCleanup
Unwind_180910660=UnwindSystemCacheHandlerCleanup
Unwind_180910680=UnwindSystemLockHandlerCleanup
Unwind_180910720=UnwindSystemMutexHandlerCleanup
Unwind_180910750=UnwindSystemSemaphoreHandlerCleanup
Unwind_180910760=UnwindSystemEventHandlerCleanup
Unwind_180910770=UnwindSystemTimerHandlerCleanup
Unwind_180910780=UnwindSystemCallbackHandlerCleanup
Unwind_180910790=UnwindSystemValidationHandlerCleanup
Unwind_180910800=UnwindSystemSecurityHandlerCleanup
Unwind_180910820=UnwindSystemResourceHandlerCleanupWithFlags
Unwind_180910840=UnwindSystemMemoryHandlerCleanupWithFlags
Unwind_180910860=UnwindSystemThreadHandlerCleanupWithFlags
Unwind_180910880=UnwindSystemQueueHandlerCleanupWithFlags
Unwind_180910900=UnwindSystemBufferHandlerCleanupWithFlags
Unwind_180910920=UnwindSystemPoolHandlerCleanupWithFlags
Unwind_180910940=UnwindSystemCacheHandlerCleanupWithFlags
Unwind_180910960=UnwindSystemLockHandlerCleanupWithFlags
Unwind_180910980=UnwindSystemMutexHandlerCleanupWithFlags
Unwind_180911100=UnwindSystemSemaphoreHandlerCleanupWithFlags
Unwind_180911120=UnwindSystemEventHandlerCleanupWithFlags
Unwind_180911140=UnwindSystemTimerHandlerCleanupWithFlags
Unwind_180911160=UnwindSystemCallbackHandlerCleanupWithFlags
Unwind_180911180=UnwindSystemValidationHandlerCleanupWithFlags
Unwind_180911200=UnwindSystemSecurityHandlerCleanupWithFlags
Unwind_180911220=UnwindSystemResourceValidatorCleanup
Unwind_180911240=UnwindSystemMemoryValidatorCleanup
Unwind_180911260=UnwindSystemThreadValidatorCleanup
Unwind_180911280=UnwindSystemQueueValidatorCleanup
Unwind_180911300=UnwindSystemBufferValidatorCleanup
Unwind_180911320=UnwindSystemPoolValidatorCleanup
Unwind_180911340=UnwindSystemCacheValidatorCleanup
Unwind_180911360=UnwindSystemLockValidatorCleanup
Unwind_180911380=UnwindSystemMutexValidatorCleanup
Unwind_180911400=UnwindSystemSemaphoreValidatorCleanup
Unwind_180911420=UnwindSystemEventValidatorCleanup
Unwind_180911440=UnwindSystemTimerValidatorCleanup
Unwind_180911460=UnwindSystemCallbackValidatorCleanup
Unwind_180911480=UnwindSystemHandlerValidatorCleanup
Unwind_180911500=UnwindSystemManagerValidatorCleanup
Unwind_180911520=UnwindSystemControllerValidatorCleanup
Unwind_180911540=UnwindSystemResourceValidatorCleanupWithFlags
Unwind_180911560=UnwindSystemMemoryValidatorCleanupWithFlags
Unwind_180911580=UnwindSystemThreadValidatorCleanupWithFlags
Unwind_180911600=UnwindSystemQueueValidatorCleanupWithFlags
Unwind_180911620=UnwindSystemBufferValidatorCleanupWithFlags
Unwind_180911640=UnwindSystemPoolValidatorCleanupWithFlags
Unwind_180911660=UnwindSystemCacheValidatorCleanupWithFlags
Unwind_180911680=UnwindSystemLockValidatorCleanupWithFlags
Unwind_180911700=UnwindSystemMutexValidatorCleanupWithFlags
Unwind_180911720=UnwindSystemSemaphoreValidatorCleanupWithFlags
Unwind_180911740=UnwindSystemEventValidatorCleanupWithFlags
Unwind_180911760=UnwindSystemTimerValidatorCleanupWithFlags
Unwind_180911780=UnwindSystemCallbackValidatorCleanupWithFlags
Unwind_180911800=UnwindSystemHandlerValidatorCleanupWithFlags
Unwind_180911820=UnwindSystemManagerValidatorCleanupWithFlags
Unwind_180911840=UnwindSystemControllerValidatorCleanupWithFlags
Unwind_180911860=UnwindSystemResourceFinalizerCleanup
Unwind_180911870=UnwindSystemMemoryFinalizerCleanup
Unwind_180911880=UnwindSystemThreadFinalizerCleanup
Unwind_180911890=UnwindSystemQueueFinalizerCleanup
Unwind_180911900=UnwindSystemBufferFinalizerCleanup
Unwind_180911910=UnwindSystemPoolFinalizerCleanup
Unwind_180911920=UnwindSystemCacheFinalizerCleanup
Unwind_180911930=UnwindSystemLockFinalizerCleanup
Unwind_180911940=UnwindSystemMutexFinalizerCleanup
Unwind_180911950=UnwindSystemSemaphoreFinalizerCleanup
Unwind_180911960=UnwindSystemEventFinalizerCleanup
Unwind_180911990=UnwindSystemTimerFinalizerCleanup
Unwind_180912010=UnwindSystemCallbackFinalizerCleanup
Unwind_180912020=UnwindSystemHandlerFinalizerCleanup
Unwind_180912040=UnwindSystemManagerFinalizerCleanup
Unwind_180912060=UnwindSystemControllerFinalizerCleanup
Unwind_180912080=UnwindSystemResourceFinalizerCleanupWithFlags
Unwind_180912090=UnwindSystemMemoryFinalizerCleanupWithFlags
Unwind_180912110=UnwindSystemThreadFinalizerCleanupWithFlags
Unwind_180912130=UnwindSystemQueueFinalizerCleanupWithFlags
Unwind_180912150=UnwindSystemBufferFinalizerCleanupWithFlags
Unwind_180912170=UnwindSystemPoolFinalizerCleanupWithFlags
Unwind_180912180=UnwindSystemCacheFinalizerCleanupWithFlags
Unwind_180912200=UnwindSystemLockFinalizerCleanupWithFlags
Unwind_180912220=UnwindSystemMutexFinalizerCleanupWithFlags
Unwind_180912240=UnwindSystemSemaphoreFinalizerCleanupWithFlags
Unwind_180912260=UnwindSystemEventFinalizerCleanupWithFlags
Unwind_180912280=UnwindSystemTimerFinalizerCleanupWithFlags
Unwind_180912300=UnwindSystemCallbackFinalizerCleanupWithFlags
Unwind_180912320=UnwindSystemHandlerFinalizerCleanupWithFlags
Unwind_180912340=UnwindSystemManagerFinalizerCleanupWithFlags
Unwind_180912350=UnwindSystemControllerFinalizerCleanupWithFlags
Unwind_180912360=UnwindSystemResourceTerminatorCleanup
Unwind_180912370=UnwindSystemMemoryTerminatorCleanup
Unwind_180912400=UnwindSystemThreadTerminatorCleanup
Unwind_180912410=UnwindSystemQueueTerminatorCleanup
Unwind_180912420=UnwindSystemBufferTerminatorCleanup
Unwind_180912430=UnwindSystemPoolTerminatorCleanup
Unwind_180912440=UnwindSystemCacheTerminatorCleanup
Unwind_180912450=UnwindSystemLockTerminatorCleanup
Unwind_180912460=UnwindSystemMutexTerminatorCleanup
Unwind_180912470=UnwindSystemSemaphoreTerminatorCleanup
Unwind_180912500=UnwindSystemEventTerminatorCleanup
Unwind_180912510=UnwindSystemTimerTerminatorCleanup
Unwind_180912520=UnwindSystemCallbackTerminatorCleanup
Unwind_180912530=UnwindSystemHandlerTerminatorCleanup
Unwind_180912540=UnwindSystemManagerTerminatorCleanup
Unwind_180912550=UnwindSystemControllerTerminatorCleanup
Unwind_180912580=UnwindSystemResourceTerminatorCleanupWithFlags
Unwind_180912590=UnwindSystemMemoryTerminatorCleanupWithFlags
Unwind_180912600=UnwindSystemThreadTerminatorCleanupWithFlags
Unwind_180912630=UnwindSystemQueueTerminatorCleanupWithFlags
Unwind_180912660=UnwindSystemBufferTerminatorCleanupWithFlags
Unwind_180912670=UnwindSystemPoolTerminatorCleanupWithFlags
Unwind_180912710=UnwindSystemCacheTerminatorCleanupWithFlags
Unwind_180912740=UnwindSystemLockTerminatorCleanupWithFlags
Unwind_180912770=UnwindSystemMutexTerminatorCleanupWithFlags
Unwind_180912780=UnwindSystemSemaphoreTerminatorCleanupWithFlags
Unwind_180912790=UnwindSystemEventTerminatorCleanupWithFlags
Unwind_180912800=UnwindSystemTimerTerminatorCleanupWithFlags
Unwind_180912810=UnwindSystemCallbackTerminatorCleanup
Unwind_180912830=UnwindSystemHandlerTerminatorCleanup
Unwind_180912850=UnwindSystemManagerTerminatorCleanup
Unwind_180912880=UnwindSystemControllerTerminatorCleanup
Unwind_180912890=UnwindSystemResourceDestructorCleanup
Unwind_180912910=UnwindSystemMemoryDestructorCleanup
Unwind_180912930=UnwindSystemThreadDestructorCleanup
Unwind_180912950=UnwindSystemQueueDestructorCleanup
Unwind_180912970=UnwindSystemBufferDestructorCleanup

# CleanupSystemResourceHandlerSet函数重命名映射
CleanupSystemResourceHandlerSet1=CleanupSystemResourceHandlerSetPrimary
CleanupSystemResourceHandlerSet2=CleanupSystemResourceHandlerSetSecondary
CleanupSystemResourceHandlerSet3=CleanupSystemResourceHandlerSetTertiary
CleanupSystemResourceHandlerSet4=CleanupSystemResourceHandlerSetQuaternary
CleanupSystemResourceHandlerSet5=CleanupSystemResourceHandlerSetQuinary
CleanupSystemResourceHandlerSet6=CleanupSystemResourceHandlerSetSenary
CleanupSystemResourceHandlerSet7=CleanupSystemResourceHandlerSetSeptenary
CleanupSystemResourceHandlerSet8=CleanupSystemResourceHandlerSetOctonary
CleanupSystemResourceHandlerSet9=CleanupSystemResourceHandlerSetNonary
CleanupSystemResourceHandlerSet10=CleanupSystemResourceHandlerSetDenary
CleanupSystemResourceHandlerSet11=CleanupSystemResourceHandlerSetUndenary
CleanupSystemResourceHandlerSet12=CleanupSystemResourceHandlerSetDuodenary
CleanupSystemResourceHandlerSet13=CleanupSystemResourceHandlerSetTerdenary
CleanupSystemResourceHandlerSet14=CleanupSystemResourceHandlerSetQuattuordenary
CleanupSystemResourceHandlerSet15=CleanupSystemResourceHandlerSetQuindenary
CleanupSystemResourceHandlerSet16=CleanupSystemResourceHandlerSetSexdenary
CleanupSystemResourceHandlerSet17=CleanupSystemResourceHandlerSetSeptendenary
CleanupSystemResourceHandlerSet18=CleanupSystemResourceHandlerSetOctodenary
CleanupSystemResourceHandlerSet19=CleanupSystemResourceHandlerSetNovendenary

# 其他函数重命名映射
CleanupResourceBlock1=CleanupResourceBlockPrimary
CleanupResourceBlock2=CleanupResourceBlockSecondary
CleanupResourceBlock3=CleanupResourceBlockTertiary
CleanupResourceBlock4=CleanupResourceBlockQuaternary
CleanupResourceBlock5=CleanupResourceBlockQuinary
CleanupResourceBlock6=CleanupResourceBlockSenary
CleanupResourceBlock7=CleanupResourceBlockSeptenary
CleanupResourceBlock8=CleanupResourceBlockOctonary

ExecuteSystemResourceCleanupBatch1=ExecuteSystemResourceCleanupBatchPrimary
ExecuteSystemResourceCleanupBatch2=ExecuteSystemResourceCleanupBatchSecondary

InitializeSystemResourceHandlerExtended2=InitializeSystemResourceHandlerExtendedSecondary
InitializeSystemResourceHandlerExtended3=InitializeSystemResourceHandlerExtendedTertiary

ExecuteSystemResourceCleanupCallbackWrapper2=ExecuteSystemResourceCleanupCallbackWrapperSecondary
ExecuteSystemResourceCleanupCallbackWrapper3=ExecuteSystemResourceCleanupCallbackWrapperTertiary
ExecuteSystemResourceCleanupCallbackWrapper4=ExecuteSystemResourceCleanupCallbackWrapperQuaternary
ExecuteSystemResourceCleanupCallbackWrapper6=ExecuteSystemResourceCleanupCallbackWrapperSenary

SetResourceHashTable003AtOffset50=SetResourceHashTablePrimaryAtOffset50
ExecuteFunctionCallbackAtOffset50=ExecuteFunctionCallbackAtOffset50
SetSystemDataStructureAtOffset0x250=SetSystemDataStructureAtOffset592
ResetSystemResourceHandlerAtOffset0x128=ResetSystemResourceHandlerAtOffset296
CleanupResourceHandlersAtOffset0x148=CleanupResourceHandlersAtOffset328
CleanupResourceHandlersAtOffset0x108=CleanupResourceHandlersAtOffset264
ResetSystemResourceHandlerAtOffset0xc8=ResetSystemResourceHandlerAtOffset200
ResetSystemResourceHandlerAtOffset0xd0=ResetSystemResourceHandlerAtOffset208
CleanupResourceStateFlag2=CleanupResourceStateFlagSecondary
CleanupResourceStateFlag1=CleanupResourceStateFlagPrimary
InitializeSystemResourceHandlerTemplateAtOffset90=InitializeSystemResourceHandlerTemplateAtOffset144

UnwindResourceContextCleanupType1=UnwindResourceContextCleanupTypePrimary
UnwindResourceContextCleanupType2=UnwindResourceContextCleanupTypeSecondary
UnwindResourceContextCleanupType3=UnwindResourceContextCleanupTypeTertiary
UnwindResourceContextFromValidationOffsetB8=UnwindResourceContextFromValidationOffset184
UnwindResourceContextFromValidationOffset30=UnwindResourceContextFromValidationOffset48
UnwindResourceContextFromValidationOffset40=UnwindResourceContextFromValidationOffset64
UnwindReleaseSystemResourceAt200=UnwindReleaseSystemResourceAtOffset512
UnwindReleaseSystemResourceAt0x88=UnwindReleaseSystemResourceAtOffset136
UnwindReleaseSystemResourceAtOffset108=UnwindReleaseSystemResourceAtOffset264
UnwindReleaseSystemResourceAtOffsetD0=UnwindReleaseSystemResourceAtOffset208
UnwindReleaseSystemResourceAtOffset70=UnwindReleaseSystemResourceAtOffset112
ReleaseResourceFlag1=ReleaseResourceFlagPrimary
ReleaseResourceFlag2=ReleaseResourceFlagSecondary
ReleaseResourceFlag4=ReleaseResourceFlagQuaternary
ReleaseSystemResourceAtOffset152=ReleaseSystemResourceAtOffset338

SetupResourceHashTable003=SetupResourceHashTablePrimary
ExecuteSystemCallbackAtOffsetA8=ExecuteSystemCallbackAtOffset168
ValidateResourceHashAtOffsetB4=ValidateResourceHashAtOffset180
CleanupValidationContextTransactionResourceHandlerAtOffset60=CleanupValidationContextTransactionResourceHandlerAtOffset96
CleanupValidationContextResourceHandlerAtOffset60=CleanupValidationContextResourceHandlerAtOffset96
SetResourceHashTable003=SetResourceHashTablePrimary
ExecuteResourceHandlerCallbackOffset10=ExecuteResourceHandlerCallbackAtOffset16
ExecuteResourceHandlerCallbackOffset18=ExecuteResourceHandlerCallbackAtOffset24
ExecuteResourceHandlerCallbackOffset8810=ExecuteResourceHandlerCallbackAtOffset34832
ExecuteResourceHandlerCallbackOffset8818=ExecuteResourceHandlerCallbackAtOffset34840
SetResourceHashTablePointerToTable003=SetResourceHashTablePointerToTablePrimary
ExecuteResourceCleanupCallbackOffset38=ExecuteResourceCleanupCallbackAtOffset56
ExecuteResourceCleanupCallbackOffset68=ExecuteResourceCleanupCallbackAtOffset104
ExecuteResourceCleanupCallbackOffset78=ExecuteResourceCleanupCallbackAtOffset120
ExecuteResourceCleanupCallbackOffset48=ExecuteResourceCleanupCallbackAtOffset72
ExecuteResourceCleanupCallbackOffset58=ExecuteResourceCleanupCallbackAtOffset88

InitializeSystemResourceHandlerExtended1=InitializeSystemResourceHandlerExtendedPrimary
InitializeSystemResourceHandlerExtended2=InitializeSystemResourceHandlerExtendedSecondary
ExecuteResourceContextCallbackExtended1=ExecuteResourceContextCallbackExtendedPrimary
InitializeSystemResourceHandlerExtended3=InitializeSystemResourceHandlerExtendedTertiary

InitializeSystemDataPointer001=InitializeSystemDataPointerPrimary
InitializeSystemDataPointer002=InitializeSystemDataPointerSecondary
InitializeSystemDataPointer003=InitializeSystemDataPointerTertiary
CleanupSystemDataPointerType1=CleanupSystemDataPointerTypePrimary
CleanupSystemDataPointerType2=CleanupSystemDataPointerTypeSecondary

SetSystemDataStructurePointerToOffsetB0=SetSystemDataStructurePointerToOffset176
SetSystemDataStructurePointerToOffsetB8=SetSystemDataStructurePointerToOffset184
UnwindSystemResourceHandler001=UnwindSystemResourceHandlerPrimary
UnwindSystemResourceHandler002=UnwindSystemResourceHandlerSecondary
SetSystemDataStructurePointerToOffset2C0=SetSystemDataStructurePointerToOffset704
ExecuteValidationContextCallbackAtOffset1D0=ExecuteValidationContextCallbackAtOffset464
ExecuteValidationContextCallbackAtOffset1F0=ExecuteValidationContextCallbackAtOffset496
ExecuteValidationContextCallbackAtOffset210=ExecuteValidationContextCallbackAtOffset528
SetSystemDataStructurePointerAtOffset360=SetSystemDataStructurePointerAtOffset864
CleanupResourceDataFlagBit1=CleanupResourceDataFlagBitPrimary
CleanupResourceDataFlagBit2=CleanupResourceDataFlagBitSecondary
SetSystemDataStructurePointerAtOffset218=SetSystemDataStructurePointerAtOffset536
SetSystemDataStructurePointerAtOffset1C0=SetSystemDataStructurePointerAtOffset448
CleanupResourceDataFlagBit4=CleanupResourceDataFlagBitQuaternary

ExecuteSystemResourceCleanupOperation1=ExecuteSystemResourceCleanupOperationPrimary
ExecuteSystemResourceCleanupOperation2=ExecuteSystemResourceCleanupOperationSecondary
ExecuteSystemResourceCleanupOperation3=ExecuteSystemResourceCleanupOperationTertiary
ExecuteSystemResourceCleanupOperation4=ExecuteSystemResourceCleanupOperationQuaternary
SetSystemDataStructurePointerAtOffset90=SetSystemDataStructurePointerAtOffset144
ExecuteSystemCleanupCallback1=ExecuteSystemCleanupCallbackPrimary
ExecuteSystemCleanupCallback2=ExecuteSystemCleanupCallbackSecondary
ExecuteSystemCleanupCallback3=ExecuteSystemCleanupCallbackTertiary
SetSystemDataStructurePointerAtOffset480=SetSystemDataStructurePointerAtOffset1152
ValidateResourceHashAndCleanupReferenceCountAtOffset48=ValidateResourceHashAndCleanupReferenceCountAtOffset72
ConfigureSystemDataStructureAtOffset98=ConfigureSystemDataStructureAtOffset152
ConfigureSystemDataStructureAtOffset80=ConfigureSystemDataStructureAtOffset128
ExecuteSystemResourceCleanupAtOffset60=ExecuteSystemResourceCleanupAtOffset96

RegisterSystemResourceReleaseHandlerExtended2=RegisterSystemResourceReleaseHandlerExtendedSecondary
RegisterSystemResourceReleaseHandlerExtended3=RegisterSystemResourceReleaseHandlerExtendedTertiary
RegisterSystemResourceReleaseHandlerExtended4=RegisterSystemResourceReleaseHandlerExtendedQuaternary
RegisterSystemResourceReleaseHandlerExtended5=RegisterSystemResourceReleaseHandlerExtendedQuinary
RegisterResourceProcessorAtOffset50=RegisterResourceProcessorAtOffset80
ExecuteValidationContextAtC0=ExecuteValidationContextAtOffset192
ExecuteValidationContextAtD0=ExecuteValidationContextAtOffset208
ExecuteValidationContextAtD8=ExecuteValidationContextAtOffset216
SetSystemDataStructurePointerAt1E0=SetSystemDataStructurePointerAtOffset480
ExecuteValidationContextAtE8=ExecuteValidationContextAtOffset232
ProcessResourceHashValidationAtA0=ProcessResourceHashValidationAtOffset160
ProcessResourceValidationAtF0=ProcessResourceValidationAtOffset240

UnwindMutexUnlockSecondary180908890=UnwindMutexUnlockSecondary
UnwindResourceOperationHandler1809088a0=UnwindResourceOperationHandler
UnwindResourceHashInitializer1809088d0=UnwindResourceHashInitializer
UnwindExceptionHandler180908910=UnwindExceptionHandler
UnwindMemoryManager180908920=UnwindMemoryManager
UnwindSystemCleanupHandler180908950=UnwindSystemCleanupHandler
UnwindResourceValidator180908980=UnwindResourceValidator
UnwindSystemValidator180908990=UnwindSystemValidator
UnwindSecurityValidator1809089a0=UnwindSecurityValidator
UnwindTransactionHandler1809089b0=UnwindTransactionHandler
UnwindExceptionHandler1809089e0=UnwindExceptionHandlerSecondary
UnwindMemoryAccessValidator180908a50=UnwindMemoryAccessValidator

ExecuteResourceHashCleanupHandler1=ExecuteResourceHashCleanupHandlerPrimary
ExecuteResourceHashCleanupHandler2=ExecuteResourceHashCleanupHandlerSecondary
ExecuteResourceHashCleanupHandler3=ExecuteResourceHashCleanupHandlerTertiary
ExecuteResourceHashCleanupHandler4=ExecuteResourceHashCleanupHandlerQuaternary
ExecuteSystemMemoryReleaseHandler1=ExecuteSystemMemoryReleaseHandlerPrimary
ExecuteResourceHashCleanupHandler5=ExecuteResourceHashCleanupHandlerQuinary

ResetValidationContextSystemDataPointer1=ResetValidationContextSystemDataPointerPrimary
ExecuteValidationContextCallback1=ExecuteValidationContextCallbackPrimary
ExecuteValidationContextCallback2=ExecuteValidationContextCallbackSecondary
ExecuteResourceContextCallback1=ExecuteResourceContextCallbackPrimary
ExecuteResourceContextCallback2=ExecuteResourceContextCallbackSecondary
ExecuteResourceCleanupCallback1=ExecuteResourceCleanupCallbackPrimary
ResetValidationContextSystemDataPointer2=ResetValidationContextSystemDataPointerSecondary
ExecuteValidationContextCallback3=ExecuteValidationContextCallbackTertiary
ExecuteResourceCleanupCallback2=ExecuteResourceCleanupCallbackSecondary
ExecuteResourceCleanupCallback3=ExecuteResourceCleanupCallbackTertiary

Unwind_SystemResourceCleanupHandler1=UnwindSystemResourceCleanupHandlerPrimary

ProcessSystemResourceCleanupPhase1=ProcessSystemResourceCleanupPhaseInitialization
ProcessSystemResourceCleanupPhase2=ProcessSystemResourceCleanupPhaseValidation
ProcessSystemResourceCleanupPhase3=ProcessSystemResourceCleanupPhaseResourceRelease
ProcessSystemResourceCleanupPhase4=ProcessSystemResourceCleanupPhaseMemoryCleanup
ProcessSystemResourceCleanupPhase5=ProcessSystemResourceCleanupPhaseThreadCleanup
ProcessSystemResourceCleanupPhase6=ProcessSystemResourceCleanupPhaseQueueCleanup
ProcessSystemResourceCleanupPhase7=ProcessSystemResourceCleanupPhaseBufferCleanup
ProcessSystemResourceCleanupPhase8=ProcessSystemResourceCleanupPhasePoolCleanup
ProcessSystemResourceCleanupPhase9=ProcessSystemResourceCleanupPhaseCacheCleanup
ProcessSystemResourceCleanupPhase10=ProcessSystemResourceCleanupPhaseLockCleanup
ProcessSystemResourceCleanupPhase11=ProcessSystemResourceCleanupPhaseFinalization

CleanupResourceHashValidationResultAddressOffset10=CleanupResourceHashValidationResultAddressOffset16
CleanupResourceHashValidationResultAddressOffset20=CleanupResourceHashValidationResultAddressOffset32
CleanupResourceHashValidationResultAddressOffset30=CleanupResourceHashValidationResultAddressOffset48
CleanupResourceHashValidationResultAddressOffset40=CleanupResourceHashValidationResultAddressOffset64
CleanupResourceHashValidationResultAddressOffset50=CleanupResourceHashValidationResultAddressOffset80
CleanupResourceHashValidationResultAddressOffset60=CleanupResourceHashValidationResultAddressOffset96
CleanupResourceHashValidationResultAddressOffset70=CleanupResourceHashValidationResultAddressOffset112
CleanupResourceHashValidationResultAddressOffset80=CleanupResourceHashValidationResultAddressOffset128

ProcessResourceOperationWithFlag1=ProcessResourceOperationWithFlagPrimary
ProcessResourceOperationWithFlag2=ProcessResourceOperationWithFlagSecondary

DestroyMutexResourceHandler1=DestroyMutexResourceHandlerPrimary
DestroyMutexResourceHandler2=DestroyMutexResourceHandlerSecondary
DestroyMutexResourceHandler3=DestroyMutexResourceHandlerTertiary
DestroyMutexResourceHandler4=DestroyMutexResourceHandlerQuaternary
DestroyMutexResourceHandler5=DestroyMutexResourceHandlerQuinary
DestroyMutexResourceHandler6=DestroyMutexResourceHandlerSenary
EOF

# 读取映射文件并执行替换
while IFS='=' read -r old_name new_name; do
    # 跳过注释行和空行
    if [[ $old_name =~ ^#.*$ ]] || [[ -z $old_name ]]; then
        continue
    fi
    
    # 使用sed进行替换
    sed -i "s/\b$old_name\b/$new_name/g" /dev/shm/mountblade-code/TaleWorlds.Native/src/06_utilities.c
done < /tmp/function_rename_map.txt

echo "函数重命名完成"