#!/bin/bash
# 批量替换UI系统中的函数名

# 定义要替换的函数名映射
declare -A function_mapping=(
    ["FUN_1806780c0"]="ProcessImageColorCompression"
    ["FUN_1806782c0"]="ProcessImageColorDecompression"
    ["FUN_180678430"]="ProcessImageColorBlending"
    ["FUN_180678540"]="ProcessImageColorTransformation"
    ["FUN_180678810"]="ProcessUIEventData"
    ["FUN_1806789c0"]="ProcessUIInputEvent"
    ["FUN_180678b10"]="ProcessUIMouseEvent"
    ["FUN_180678bc0"]="ProcessUIKeyboardEvent"
    ["FUN_180678e20"]="ProcessUIWindowEvent"
    ["FUN_180678ef0"]="ProcessUIControlEvent"
    ["FUN_180678fc0"]="ProcessUIAnimationEvent"
    ["FUN_1806790b0"]="ProcessUIRenderEvent"
    ["FUN_180679210"]="ProcessUILayoutEvent"
    ["FUN_180679310"]="ProcessUIStyleEvent"
    ["FUN_180679480"]="ProcessUIThemeEvent"
    ["FUN_1806795f0"]="ProcessUIFontEvent"
    ["FUN_1806796f0"]="ProcessUITextureEvent"
    ["FUN_1806799b0"]="ProcessUIShaderEvent"
    ["FUN_180679ca0"]="ProcessUIBufferEvent"
    ["FUN_180679d30"]="ProcessUIMemoryEvent"
    ["FUN_18067c470"]="TerminateUISystem"
    ["FUN_1806917c0"]="InitializeUIComponent"
    ["FUN_180691db0"]="ProcessUIComponentUpdate"
    ["FUN_180695c4d"]="ProcessUIControlState"
    ["FUN_180695f0f"]="UpdateUIControlProperties"
    ["FUN_1806979e0"]="ShutdownUISystem"
    ["FUN_180697b09"]="InitializeUIResourceManager"
    ["FUN_180697c23"]="UIIdleOperation"
    ["FUN_180697c6b"]="CleanupUIResources"
    ["FUN_180697dc2"]="ValidateUIResourceHandle"
    ["FUN_1806982a0"]="ProcessUISemaphoreOperation"
    ["FUN_180698440"]="UpdateUIRenderState"
    ["FUN_1806984f1"]="OptimizeUIRenderPipeline"
    ["FUN_1806986b7"]="InitializeUITextureAtlas"
    ["FUN_1806986ff"]="UpdateUITextureCache"
    ["FUN_1806987ee"]="CompressUIMemoryAllocation"
    ["FUN_180698800"]="ProcessUIRenderBatch"
    ["FUN_1806988d0"]="InitializeUISystemModule"
    ["FUN_1806988f5"]="SetupUISystemConfiguration"
    ["FUN_180698a50"]="ResetUIAnimationTimer"
    ["FUN_180698b00"]="ProcessUIAnimationUpdate"
    ["FUN_180698bb0"]="HandleUIResourceAllocation"
    ["FUN_180698c64"]="UpdateUISystemMetrics"
    ["FUN_180698e02"]="UpdateUIPerformanceMetrics"
    ["FUN_180699280"]="ProcessUIInputEventQueue"
    ["FUN_1806993a0"]="InitializeUIInputSystem"
    ["FUN_180699508"]="CalibrateUITouchScreen"
    ["FUN_180699620"]="ProcessUIInputDevice"
    ["FUN_180699f21"]="HandleUIEventDispatch"
    ["FUN_180699f40"]="ProcessUIAnimationFrame"
    ["FUN_18069a210"]="UpdateUIAnimationState"
    ["FUN_18069a490"]="GetUISemaphoreCount"
    ["FUN_18069bb20"]="ProcessUIWindowOperation"
    ["FUN_18069bc50"]="HandleUIWindowEvent"
    ["FUN_18069bd60"]="ProcessUIMemoryOperation"
    ["FUN_18069beb0"]="UpdateUIControlState"
    ["FUN_18069bebb"]="ProcessUIControlValidation"
    ["FUN_18069bf80"]="ProcessUIMemoryCopy"
    ["FUN_18069bfb0"]="ProcessUIResourceOperation"
    ["FUN_18069bfc6"]="HandleUIResourceCleanup"
    ["FUN_18069c023"]="ValidateUIResourceCount"
    ["FUN_18069c3f3"]="ProcessUIBufferData"
    ["FUN_18069c4ff"]="ProcessUIMemorySet"
    ["FUN_18069c640"]="ProcessUISystemData"
    ["FUN_18069c820"]="ProcessUIRenderCommand"
    ["FUN_18069c990"]="ProcessUIVertexData"
    ["FUN_18069ca80"]="ProcessUIIndexData"
    ["FUN_18069d310"]="CleanupUISystem"
    ["FUN_18069d460"]="ProcessUIAnimationData"
    ["FUN_18069de90"]="ProcessUIRenderData"
    ["FUN_18069def0"]="ProcessUIMemoryFill"
    ["FUN_18069e620"]="ProcessUIBatchOperation"
    ["FUN_18069e6e0"]="UpdateUISystemStatus"
    ["FUN_18069e7c0"]="ProcessUIThreadOperation"
    ["FUN_18069ec52"]="HandleUIAsyncOperation"
    ["FUN_18069ec80"]="ProcessUIAsyncResult"
    ["FUN_18069f2f0"]="ProcessUILogOperation"
    ["FUN_18069f51a"]="ProcessUIStatusUpdate"
    ["FUN_18069f682"]="UINoOperation"
    ["FUN_18069f770"]="ProcessUIStringOperation"
    ["FUN_18069f7a6"]="ProcessUIFormatOperation"
    ["FUN_18069f8cb"]="ProcessUIResourceCount"
    ["FUN_18069f9c0"]="ProcessUITextOperation"
    ["FUN_180700fc3"]="ProcessUIFloatOperation"
    ["FUN_180701270"]="ProcessUIDoubleOperation"
    ["FUN_180701920"]="ProcessUIMixedOperation"
)

# 遍历映射并执行替换
for old_name in "${!function_mapping[@]}"; do
    new_name="${function_mapping[$old_name]}"
    
    # 替换函数定义
    sed -i "s/^void $old_name(/void $new_name(/g" 04_ui_system.c
    
    # 替换函数调用
    sed -i "s/\b$old_name(/$new_name(/g" 04_ui_system.c
    
    echo "Renamed: $old_name -> $new_name"
done

echo "Function renaming completed!"