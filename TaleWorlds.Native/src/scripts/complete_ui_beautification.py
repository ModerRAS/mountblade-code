#!/usr/bin/env python3
"""
完成UI系统文件的美化工作
"""

import re
import sys

def complete_ui_system_beautification():
    """完成UI系统文件的美化"""
    
    # 读取文件内容
    with open('/dev/shm/mountblade-code/TaleWorlds.Native/src/04_ui_system.c', 'r', encoding='utf-8') as f:
        content = f.read()
    
    # 定义变量替换映射
    variable_mappings = {
        # 参数变量
        '参数一': 'uiContext',
        '参数二': 'resourceHandle',
        '参数三': 'widgetId',
        '参数四': 'renderFlags',
        '参数五': 'bufferSize',
        '参数六': 'textureFormat',
        '参数七': 'animationType',
        '参数八': 'eventFlags',
        '参数九': 'layoutMode',
        '参数一0': 'windowStyle',
        '参数一一': 'widgetType',
        '参数一二': 'blendMode',
        '参数一三': 'shaderProgram',
        '参数一4': 'vertexFormat',
        '参数一5': 'depthTest',
        '参数一6': 'stencilTest',
        '参数一7': 'scissorTest',
        '参数一8': 'alphaBlend',
        '参数一9': 'cullMode',
        '参数二0': 'fillMode',
        '参数二一': 'samplerState',
        '参数二二': 'filterMode',
        '参数二三': 'wrapMode',
        '参数二4': 'compareFunc',
        '参数二5': 'stencilOp',
        '参数二6': 'blendOp',
        '参数二7': 'blendFunc',
        '参数二8': 'colorMask',
        '参数二9': 'depthMask',
        '参数三0': 'stencilMask',
        '参数三一': 'renderTarget',
        '参数三二': 'frameBuffer',
        '参数三三': 'vertexBuffer',
        '参数三四': 'indexBuffer',
        '参数三五': 'uniformBuffer',
        '参数三六': 'shaderStorage',
        '参数三七': 'atomicCounter',
        '参数三八': 'transformFeedback',
        '参数三9': 'queryObject',
        '参数四0': 'syncObject',
        '参数四一': 'fenceObject',
        '参数四二': 'eventObject',
        '参数四三': 'semaphoreObject',
        '参数四四': 'memoryBarrier',
        '参数四五': 'textureBarrier',
        '参数四六': 'bufferBarrier',
        '参数四七': 'imageBarrier',
        '参数四八': 'globalBarrier',
        '参数四九': 'commandBuffer',
        '参数五0': 'drawCommand',
        '参数五一': 'dispatchCommand',
        '参数五二': 'copyCommand',
        '参数五三': 'blitCommand',
        '参数五四': 'resolveCommand',
        '参数五五': 'clearCommand',
        '参数五六': 'fillCommand',
        '参数五七': 'updateCommand',
        '参数五八': 'pipelineBarrier',
        '参数五九': 'memoryBarrier',
        '参数六0': 'executionBarrier',
        '参数六一': 'memoryDependency',
        '参数六二': 'subpassDependency',
        '参数六三': 'renderPass',
        '参数六四': 'framebuffer',
        '参数六五': 'renderArea',
        '参数六六': 'clearValue',
        '参数六七': 'loadOp',
        '参数六八': 'storeOp',
        '参数六九': 'initialLayout',
        '参数七0': 'finalLayout',
        '参数七一': 'imageLayout',
        '参数七二': 'accessMask',
        '参数七三': 'stageMask',
        '参数七四': 'pipelineStage',
        '参数七五': 'commandPool',
        '参数七六': 'descriptorPool',
        '参数七七': 'descriptorSet',
        '参数七八': 'descriptorLayout',
        '参数七九': 'pipelineLayout',
        '参数八0': 'renderPass',
        '参数八一': 'graphicsPipeline',
        '参数八二': 'computePipeline',
        '参数八三': 'rayTracingPipeline',
        '参数八四': 'sampler',
        '参数八五': 'image',
        '参数八六': 'imageView',
        '参数八七': 'bufferView',
        '参数八八': 'accelerationStructure',
        '参数八九': 'buffer',
        '参数九0': 'deviceMemory',
        '参数九一': 'commandBuffer',
        '参数九二': 'fence',
        '参数九三': 'semaphore',
        '参数九四': 'event',
        '参数九五': 'queryPool',
        '参数九六': 'shaderModule',
        '参数九七': 'pipelineCache',
        '参数九八': 'pipeline',
        '参数九九': 'descriptorSetLayout',
        
        # 未知变量
        '无符号整型变量1': 'resourceIndex',
        '无符号整型变量2': 'textureHandle',
        '无符号整型变量3': 'bufferHandle',
        '无符号整型变量4': 'shaderHandle',
        '无符号整型变量5': 'programHandle',
        '无符号整型变量6': 'vertexHandle',
        '无符号整型变量7': 'indexHandle',
        '无符号整型变量8': 'uniformHandle',
        '无符号整型变量9': 'samplerHandle',
        '无符号整型变量10': 'framebufferHandle',
        '无符号整型变量11': 'renderbufferHandle',
        '无符号整型变量12': 'textureHandle',
        '无符号整型变量13': 'bufferHandle',
        '无符号整型变量14': 'shaderHandle',
        '无符号整型变量15': 'programHandle',
        '无符号整型变量16': 'vertexHandle',
        '无符号整型变量17': 'indexHandle',
        '无符号整型变量18': 'uniformHandle',
        '无符号整型变量19': 'samplerHandle',
        '无符号整型变量20': 'framebufferHandle',
        '无符号整型变量21': 'renderbufferHandle',
        '无符号整型变量22': 'textureHandle',
        '无符号整型变量23': 'bufferHandle',
        '无符号整型变量24': 'shaderHandle',
        '无符号整型变量25': 'programHandle',
        '无符号整型变量26': 'vertexHandle',
        '无符号整型变量27': 'indexHandle',
        '无符号整型变量28': 'uniformHandle',
        '无符号整型变量29': 'samplerHandle',
        '无符号整型变量30': 'framebufferHandle',
        '无符号整型变量31': 'renderbufferHandle',
        '无符号整型变量32': 'textureHandle',
        '无符号整型变量33': 'bufferHandle',
        '无符号整型变量34': 'shaderHandle',
        '无符号整型变量35': 'programHandle',
        '无符号整型变量36': 'vertexHandle',
        '无符号整型变量37': 'indexHandle',
        '无符号整型变量38': 'uniformHandle',
        '无符号整型变量39': 'samplerHandle',
        '无符号整型变量40': 'framebufferHandle',
        '无符号整型变量41': 'renderbufferHandle',
        '无符号整型变量42': 'textureHandle',
        '无符号整型变量43': 'bufferHandle',
        '无符号整型变量44': 'shaderHandle',
        '无符号整型变量45': 'programHandle',
        '无符号整型变量46': 'vertexHandle',
        '无符号整型变量47': 'indexHandle',
        '无符号整型变量48': 'uniformHandle',
        '无符号整型变量49': 'samplerHandle',
        '无符号整型变量50': 'framebufferHandle',
        
        # 局部变量
        'iVar1': 'localIntResource',
        'iVar2': 'localIntTexture',
        'iVar3': 'localIntBuffer',
        'iVar4': 'localIntShader',
        'iVar5': 'localIntProgram',
        'iVar6': 'localIntVertex',
        'iVar7': 'localIntIndex',
        'iVar8': 'localIntUniform',
        'iVar9': 'localIntSampler',
        'iVar10': 'localIntFramebuffer',
        'iVar11': 'localIntRenderbuffer',
        'iVar12': 'localIntTexture2',
        'iVar13': 'localIntBuffer2',
        'iVar14': 'localIntShader2',
        'iVar15': 'localIntProgram2',
        'iVar16': 'localIntVertex2',
        'iVar17': 'localIntIndex2',
        'iVar18': 'localIntUniform2',
        'iVar19': 'localIntSampler2',
        'iVar20': 'localIntFramebuffer2',
        
        'lVar1': 'localResource',
        'lVar2': 'localTexture',
        'lVar3': 'localBuffer',
        'lVar4': 'localShader',
        'lVar5': 'localProgram',
        'lVar6': 'localVertex',
        'lVar7': 'localIndex',
        'lVar8': 'localUniform',
        'lVar9': 'localSampler',
        'lVar10': 'localFramebuffer',
        
        'pfVar1': 'localFloatResource',
        'pfVar2': 'localFloatTexture',
        'pfVar3': 'localFloatBuffer',
        'pfVar4': 'localFloatShader',
        'pfVar5': 'localFloatProgram',
        'pfVar6': 'localFloatVertex',
        'pfVar7': 'localFloatIndex',
        'pfVar8': 'localFloatUniform',
        'pfVar9': 'localFloatSampler',
        'pfVar10': 'localFloatFramebuffer',
        
        'puVar1': 'localPtrResource',
        'puVar2': 'localPtrTexture',
        'puVar3': 'localPtrBuffer',
        'puVar4': 'localPtrShader',
        'puVar5': 'localPtrProgram',
        'puVar6': 'localPtrVertex',
        'puVar7': 'localPtrIndex',
        'puVar8': 'localPtrUniform',
        'puVar9': 'localPtrSampler',
        'puVar10': 'localPtrFramebuffer',
        
        'pcVar1': 'localCharResource',
        'pcVar2': 'localCharTexture',
        'pcVar3': 'localCharBuffer',
        'pcVar4': 'localCharShader',
        'pcVar5': 'localCharProgram',
        'pcVar6': 'localCharVertex',
        'pcVar7': 'localCharIndex',
        'pcVar8': 'localCharUniform',
        'pcVar9': 'localCharSampler',
        'pcVar10': 'localCharFramebuffer',
        
        'bVar1': 'localByteResource',
        'bVar2': 'localByteTexture',
        'bVar3': 'localByteBuffer',
        'bVar4': 'localByteShader',
        'bVar5': 'localByteProgram',
        'bVar6': 'localByteVertex',
        'bVar7': 'localByteIndex',
        'bVar8': 'localByteUniform',
        'bVar9': 'localByteSampler',
        'bVar10': 'localByteFramebuffer',
        
        'uVar1': 'localUIntResource',
        'uVar2': 'localUIntTexture',
        'uVar3': 'localUIntBuffer',
        'uVar4': 'localUIntShader',
        'uVar5': 'localUIntProgram',
        'uVar6': 'localUIntVertex',
        'uVar7': 'localUIntIndex',
        'uVar8': 'localUIntUniform',
        'uVar9': 'localUIntSampler',
        'uVar10': 'localUIntFramebuffer',
        
        # 临时变量
        'tempShort1': 'tempShortValue',
        'ptempShort2': 'tempShortPtr',
        'psVar8': 'tempShortPtr2',
        'fVar16': 'tempFloatValue',
        'fVar17': 'tempFloatValue2',
        
        # 栈变量
        'uStack_78': 'stackTextureHandle',
        'uStack_74': 'stackBufferHandle',
        'iStack_6c': 'stackLayoutWidth',
        'iStack_68': 'stackLayoutHeight',
    }
    
    # 函数替换映射
    function_mappings = {
        'FUN_180723131': 'ValidateUISystemState',
        'FUN_1807234d0': 'ProcessUIResources',
        'FUN_180738730': 'PrepareUIRendering',
        'FUN_180738d3d': 'ValidateUIRenderingContext',
        'FUN_180738e7f': 'SetupUIRenderingParameters',
        'FUN_180738fbf': 'ConfigureUIRenderingPipeline',
        'FUN_1807390fd': 'ValidateRenderingConfiguration',
        'FUN_18073922d': 'AllocateUIResourceMemory',
        'FUN_1807395df': 'ValidateUIResourceAllocation',
        'FUN_180739773': 'FreeUIResourceMemory',
        'FUN_180739b3f': 'ManageUIResourcePool',
        'FUN_180739c7d': 'UpdateUIResourceCache',
        'FUN_180739dad': 'LoadUITexture',
        'FUN_18073a47d': 'ProcessUITextureData',
        'FUN_18073a6c1': 'ValidateTextureFormat',
        'FUN_18073a7fd': 'ConvertTextureFormat',
        'FUN_18073adad': 'ApplyTextureFilters',
        'FUN_18073af6d': 'GenerateMipmaps',
        'FUN_18073b13d': 'CompressTextureData',
        'FUN_18073b2c4': 'LoadUIFont',
        'FUN_18073b4cf': 'ProcessFontData',
        'FUN_18073b7af': 'RenderTextToTexture',
        'FUN_18073ba9f': 'MeasureTextDimensions',
        'FUN_18073bbdd': 'ValidateFontMetrics',
        'FUN_18073c111': 'CreateUIElement',
        'FUN_18073c258': 'UpdateUIElementState',
        'FUN_18073c471': 'DestroyUIElement',
        'FUN_18073c6e3': 'ValidateUIElement',
        'FUN_18073c87f': 'PositionUIElement',
        'FUN_18073cfcb': 'CalculateUILayout',
        'FUN_18073d103': 'UpdateLayoutConstraints',
        'FUN_18073d372': 'ValidateLayoutDimensions',
        'FUN_18073d4b8': 'ApplyLayoutAlignment',
        'FUN_18073d683': 'OptimizeLayoutPerformance',
        'FUN_18073db4f': 'ProcessUIEvent',
        'FUN_18073e229': 'HandleMouseInput',
        'FUN_18073e414': 'HandleKeyboardInput',
        'FUN_18073e6ce': 'ValidateEventQueue',
        'FUN_18073eb6d': 'DispatchUIEvent',
        'FUN_18073eddb': 'CreateUIAnimation',
        'FUN_18073f0d1': 'UpdateUIAnimation',
        'FUN_18073f32d': 'AnimateUIElement',
        'FUN_18073f45d': 'ValidateAnimationState',
        'FUN_18073fb64': 'CreateUIWindow',
        'FUN_18073ff1d': 'UpdateUIWindow',
        'FUN_180740283': 'MoveUIWindow',
        'FUN_1807403bf': 'ResizeUIWindow',
        'FUN_1807405cf': 'CloseUIWindow',
        'FUN_1807412d1': 'CreateUIDialog',
        'FUN_180741413': 'ShowUIDialog',
        'FUN_180741b27': 'UpdateUIDialog',
        'FUN_180742460': 'CreateUIWidget',
        'FUN_180742aca': 'ConfigureWidgetProperties',
        'FUN_180742cd0': 'UpdateWidgetState',
        'FUN_180742e00': 'ProcessWidgetEvents',
        'FUN_180744920': 'ManageUIBuffers',
        'FUN_180746460': 'InitializeUIBuffers',
        'FUN_180749e0b': 'CompileUIShader',
        'FUN_18074a895': 'LinkShaderProgram',
        'FUN_18074a885': 'ValidateShaderProgram',
        'FUN_18074af10': 'SetupShaderUniforms',
        'FUN_18074c570': 'ConfigureRenderingPipeline',
        'FUN_18074f89e': 'ValidateRenderingState',
        'FUN_18074f865': 'ResetRenderingState',
        'FUN_18074fc70': 'CreateFrameBuffer',
        'FUN_180750bf2': 'BindFrameBuffer',
        'FUN_180750fa0': 'UpdateFrameBuffer',
        'FUN_1807533c2': 'ScheduleResourceUpload',
        'FUN_180754080': 'ExecuteResourceTransfer',
        'FUN_180756a02': 'AllocateUIMemory',
        'FUN_180756d8a': 'FreeUIMemory',
        'FUN_180757a30': 'ProcessVertexData',
        'FUN_180757c93': 'ValidateVertexFormat',
        'FUN_180757cec': 'CreateVertexBuffer',
        'FUN_180759220': 'CalculateTransformMatrix',
        'FUN_1807593d0': 'UpdateProjectionMatrix',
        'FUN_18075a100': 'SetRenderTarget',
        'FUN_18075a760': 'RenderToTexture',
        'FUN_18075e660': 'ConfigureDepthTest',
        'FUN_18075ece0': 'ConfigureStencilTest',
        'FUN_180760650': 'ConfigureBlendingMode',
        'FUN_180760c64': 'ValidateBlendingState',
        'FUN_18076203a': 'SetupClippingRegion',
        'FUN_180762a50': 'ApplyScissorTest',
        'FUN_180762e40': 'CreateStencilMask',
        'FUN_180762ee0': 'UpdateStencilMask',
        'FUN_180765a60': 'BeginBatchRender',
        'FUN_180765da0': 'EndBatchRender',
        'FUN_180767c00': 'CollectRenderingStats',
        'FUN_1807689d0': 'UpdatePerformanceMetrics',
        'FUN_18076bcd0': 'CalculateFrameTime',
        'FUN_18076ce6f': 'SaveRenderingState',
        'FUN_18076ce64': 'RestoreRenderingState',
        'FUN_18076e120': 'ConfigureViewport',
        'FUN_18076faa0': 'UpdateViewportTransform',
        'FUN_180770229': 'SaveUIState',
        'FUN_180770ccf': 'RestoreUIState',
        'FUN_180771250': 'UpdateUIInterface',
        'FUN_180771ed0': 'ValidateUIState',
        'FUN_180772160': 'SyncUIState',
        'FUN_180772fe0': 'UpdateWidgetPosition',
        'FUN_1807746b0': 'UpdateWidgetSize',
        'FUN_180775620': 'UpdateWidgetVisibility',
        'FUN_1807762e0': 'ProcessEventQueue',
        'FUN_180776840': 'ValidateEventQueue',
        'FUN_180778fa0': 'ValidateLayoutConstraints',
        'FUN_180779270': 'CalculateLayoutBounds',
        'FUN_18077a750': 'RenderWidget',
        'FUN_18077abc6': 'ApplyWidgetEffects',
        'FUN_18077b410': 'OptimizeWidgetRendering',
        'FUN_18077cdb0': 'RenderWindow',
        'FUN_18077e820': 'UpdateWindowZOrder',
        'FUN_18077e8d8': 'ValidateWindowFocus',
        'FUN_18077e927': 'UpdateWindowOpacity',
        'FUN_18077ef70': 'ValidateResourceIntegrity',
        'FUN_180780d60': 'CheckResourceAvailability',
        'FUN_180780eb0': 'ProcessTextureStreaming',
        'FUN_180782e60': 'OptimizeRenderingPerformance',
        'FUN_1807837e9': 'ValidateRenderingOptimization',
        'FUN_180784300': 'UpdateUIScene',
        'FUN_180787940': 'ManageShaderPrograms',
        'FUN_1807897b0': 'UpdateShaderParameters',
        'FUN_180789a00': 'ValidateShaderState',
        'FUN_18078aa2c': 'ScheduleResourceLoading',
        'FUN_18078adbc': 'ExecuteResourceLoading',
        'FUN_18078c746': 'SetupRenderingContext',
        'FUN_18078c72e': 'ValidateRenderingContext',
        'FUN_18078d9d0': 'ProcessUIMaterial',
        'FUN_1807901fa': 'UpdateRenderingStatistics',
        'FUN_180790610': 'ManageTextureMemory',
        'FUN_180790680': 'OptimizeTextureUsage',
        'FUN_1807915fb': 'UpdateAnimationState',
        'FUN_1807916e0': 'ProcessAnimationFrame',
        'FUN_180793660': 'AnimateWidgetProperties',
        'FUN_180795df0': 'InterpolateWidgetValues',
        'FUN_180796840': 'ApplyWidgetTransforms',
        'FUN_180796ba0': 'UpdateLayoutHierarchy',
        'FUN_180798350': 'UpdateMaterialProperties',
        'FUN_1807989b0': 'ValidateMaterialState',
        'FUN_18079b600': 'RenderUserInterface',
        'FUN_18079e1c0': 'UpdateTextureData',
        'FUN_1808005be': 'ManageMemoryPools',
        'FUN_180801390': 'CalculateMatrixTransform',
        'FUN_180801a10': 'UpdateMatrixUniforms',
        'FUN_1808024a0': 'UpdateBufferContents',
        'FUN_1808027ca': 'ProcessInputEvents',
        'FUN_180802d50': 'HandleWidgetInteraction',
        'FUN_1808041e8': 'ValidateRenderingOperation',
        'FUN_180804740': 'HandleWindowInteraction',
        'FUN_1808048d0': 'UpdateWindowState',
        'FUN_180804c50': 'ManageResourceLifecycle',
        'FUN_1808054c0': 'ManageBufferResources',
        'FUN_180805aea': 'UpdateEventSystem',
        'FUN_1808061c0': 'AllocateBufferMemory',
        'FUN_1808064f0': 'ExecuteDataTransfer',
        'FUN_180806fbb': 'ReleaseResourceMemory',
        'FUN_180807d00': 'UpdateTextureStreaming',
        'FUN_180808090': 'ManageBufferObjects',
        'FUN_180809f90': 'UpdateShaderPrograms',
        'FUN_18080a240': 'BindResourceObjects',
        'FUN_18080a5d0': 'UpdateUniformVariables',
        'FUN_18080a830': 'ValidateResourceBinding',
        'FUN_18080b37e': 'ValidateRenderingStatus',
        'FUN_180811500': 'UpdateInterfaceSystem',
        'FUN_180811820': 'CompileShaderProgram',
        'FUN_180815200': 'LoadResourcePackage',
        'FUN_180815ca0': 'CreateControlSystem',
        'FUN_180815ea0': 'ProcessTextureCoordinates',
        'FUN_180819980': 'RenderInterfaceElement',
        'FUN_18081a9c0': 'UpdateControlSystem',
        'FUN_18081b7ac': 'UpdateShaderParameters',
        'FUN_18081d600': 'ProcessColorValues',
        'FUN_18081d760': 'BlendColorValues',
        'FUN_18081d8a0': 'ConvertColorSpace',
        'FUN_180824b30': 'ManageResourceReferences',
        'FUN_180824f70': 'UpdateResourceReferences',
        'FUN_180825560': 'ValidateResourceReferences',
        'FUN_180827240': 'ManageTextureStreaming',
        'FUN_180828129': 'UpdateResourceStatus',
        'FUN_180829a70': 'ManageMemoryAllocation',
        'FUN_18082d8f1': 'ProcessResourceLoading',
        'FUN_18082f0a0': 'AllocateResourceMemory',
        'FUN_180830e10': 'ManageShaderResources',
        'FUN_1808399b0': 'ProcessResourceData',
        'FUN_18083ccd0': 'ManageResourceCache',
        'FUN_18083ccea': 'ValidateResourceCache',
        'FUN_18083cd60': 'UpdateResourceCache',
        'FUN_18083cd7a': 'OptimizeResourceCache',
        'FUN_18083cdf0': 'ClearResourceCache',
        'FUN_18088f050': 'ValidateRenderingSystem',
        'FUN_180848ff1': 'ProcessShaderCompilation',
        'FUN_180851421': 'ProcessResourceUpload',
        'FUN_180851e40': 'ManageMatrixOperations',
        'FUN_180852aaa': 'ScheduleResourceOperations',
        'FUN_180852f68': 'ValidateResourceOperations',
        'FUN_180854040': 'ManageBufferOperations',
        'FUN_180854610': 'ProcessResourceData',
        'FUN_180854af0': 'HandleWidgetEvents',
        'FUN_180854ce0': 'UpdateInterfaceState',
        'FUN_180855130': 'ProcessInterfaceEvents',
        'FUN_180855ffc': 'ManageResourceObjects',
        'FUN_18085652b': 'UpdateResourceState',
        'FUN_180856570': 'ProcessEventSystem',
        'FUN_180856830': 'UpdateEventHandlers',
        'FUN_180857c7a': 'ManageWidgetSystem',
        'FUN_18085acd0': 'UpdateWidgetSystem',
        'FUN_18085b050': 'BindResourceTextures',
        'FUN_18085bc30': 'HandleWidgetEvents',
        'FUN_18085c4b0': 'ProcessWidgetInteraction',
        'FUN_18085d860': 'ManageBufferData',
        'FUN_18085e8d0': 'UpdateResourceTextures',
        'FUN_18085ed00': 'ManageTextureData',
        'FUN_18085f5f0': 'ProcessResourceUpload',
        'FUN_18085f630': 'UploadTextureData',
        'FUN_18085f790': 'ManageResourceUpload',
        'FUN_18085f8d0': 'ProcessTextureUpload',
        'FUN_18085fbb0': 'ValidateResourceUpload',
        'FUN_1808616bc': 'UpdateSystemStatus',
        'FUN_18086247a': 'AllocateResourceSpace',
        'FUN_180867b40': 'ManageTextureMemory',
        'FUN_180867cf0': 'OptimizeTextureMemory',
        'FUN_1808690e0': 'InitializeInterfaceSystem',
        'FUN_180869270': 'UpdateInterfaceSystem',
        'FUN_180869400': 'ValidateInterfaceSystem',
        'FUN_180869590': 'ProcessInterfaceEvents',
        'FUN_180869720': 'RenderInterfaceElements',
        'FUN_1808698b0': 'OptimizeInterfaceSystem',
        'FUN_18086d470': 'ManageBufferMemory',
        'FUN_18086d620': 'OptimizeBufferMemory',
        'FUN_1808719a0': 'ManageResourceData',
        'FUN_180876d54': 'ValidateSystemState',
        'FUN_180876d27': 'UpdateSystemState',
        'FUN_18087920b': 'UpdateRenderingState',
        'FUN_18088b503': 'UpdateInterfaceStatus',
        'FUN_18088ea60': 'ManageTextureResources',
        'FUN_18088ff94': 'ValidateResourceIntegrity',
        'FUN_180895b89': 'UpdateLayoutSystem',
        'FUN_180895e19': 'CalculateInterfaceDimensions',
        'FUN_1808974f4': 'UpdateControlSystem',
        'FUN_180897b16': 'ValidateControlSystem',
        'FUN_180897b0e': 'ProcessControlEvents',
        'FUN_180897afe': 'OptimizeControlSystem',
        'FUN_180898a50': 'ManageInterfaceResources',
        'FUN_180898b40': 'UpdateInterfaceState',
    }
    
    # 应用变量替换
    for old_name, new_name in variable_mappings.items():
        content = re.sub(r'\b' + re.escape(old_name) + r'\b', new_name, content)
    
    # 应用函数替换
    for old_name, new_name in function_mappings.items():
        content = re.sub(r'\b' + re.escape(old_name) + r'\b', new_name, content)
    
    # 写回文件
    with open('/dev/shm/mountblade-code/TaleWorlds.Native/src/04_ui_system.c', 'w', encoding='utf-8') as f:
        f.write(content)
    
    print("UI系统文件美化完成")

if __name__ == "__main__":
    complete_ui_system_beautification()