#!/usr/bin/env python3
"""
批量替换渲染文件中的UNK_变量为语义化名称
"""

import re
import sys

def replace_unk_variables():
    """替换UNK_变量为语义化名称"""
    
    # 读取文件
    with open('/dev/shm/mountblade-code/TaleWorlds.Native/src/03_rendering.c', 'r', encoding='utf-8') as f:
        content = f.read()
    
    # 定义替换规则
    replacements = [
        # 渲染命令相关
        (r'undefined UNK_18044f9a0;', 'undefined* RenderCommandAllocator;'),
        (r'undefined UNK_18044f9c0;', 'undefined* RenderCommandPoolDestroyer;'),
        (r'undefined UNK_18044f9e0;', 'undefined* RenderCommandBufferManager;'),
        (r'undefined UNK_18044faf0;', 'undefined* RenderCommandBufferAllocator;'),
        (r'undefined UNK_18044fb20;', 'undefined* RenderCommandBufferReleaser;'),
        (r'undefined UNK_18044fba0;', 'undefined* RenderCommandFlagSetter;'),
        (r'undefined UNK_18044fbc0;', 'undefined* OneTimeCommandExecutor;'),
        (r'undefined UNK_18044fca0;', 'undefined* DrawParameterValidator;'),
        (r'undefined UNK_18044fcc0;', 'undefined* DrawParameterProcessor;'),
        (r'undefined UNK_18044fce0;', 'undefined* DrawCallExecutor;'),
        (r'undefined UNK_18044fda0;', 'undefined* ColorDataConverter;'),
        (r'undefined UNK_18044fdc0;', 'undefined* ColorInfoProcessor;'),
        (r'undefined UNK_18044fea0;', 'undefined* DepthBufferCreator;'),
        (r'undefined UNK_18044fee0;', 'undefined* VertexBufferCreator;'),
        (r'undefined UNK_180450a00;', 'undefined* PipelineStateInitializer;'),
        (r'undefined UNK_180450b90;', 'undefined* RenderTargetViewCreator;'),
        
        # 添加更多替换规则...
        (r'undefined UNK_1804543a0;', 'undefined* RenderObjectManager;'),
        (r'undefined UNK_180a1a8c0;', 'undefined* GlobalRenderState;'),
        (r'undefined UNK_180a1a8d8;', 'undefined* RenderContextState;'),
        (r'undefined UNK_180a1a940;', 'undefined* DeviceRenderState;'),
        (r'undefined UNK_180a1a918;', 'undefined* PipelineConfiguration;'),
        (r'undefined UNK_180a1a8f0;', 'undefined* ShaderProgramState;'),
        (r'undefined UNK_180a1a960;', 'undefined* VertexBufferState;'),
        (r'undefined UNK_180a1a988;', 'undefined* IndexBufferState;'),
        (r'undefined UNK_180a1a9b0;', 'undefined* ConstantBufferState;'),
        (r'undefined UNK_180a1a9d8;', 'undefined* TextureSamplerState;'),
        (r'undefined UNK_180a1aa20;', 'undefined* RenderTargetState;'),
        (r'undefined UNK_180a1aa38;', 'undefined* DepthStencilState;'),
        (r'undefined UNK_180a1aa70;', 'undefined* ViewportState;'),
        (r'undefined UNK_180a1aa00;', 'undefined* ScissorRectState;'),
        (r'undefined UNK_180a1aa98;', 'undefined* RasterizerState;'),
        (r'undefined UNK_180a1aab8;', 'undefined* BlendState;'),
        (r'undefined UNK_180a1aad8;', 'undefined* DepthStencilView;'),
        (r'undefined UNK_180a1aaf8;', 'undefined* RenderTargetView;'),
        (r'undefined UNK_180a1ab48;', 'undefined* ShaderResourceView;'),
        (r'undefined UNK_180a1ab80;', 'undefined* UnorderedAccessView;'),
        (r'undefined UNK_180a1ab38;', 'undefined* StreamOutputView;'),
        (r'undefined UNK_180a1ab18;', 'undefined* CommandAllocator;'),
        (r'undefined UNK_180a0d408;', 'undefined* CommandQueue;'),
        (r'undefined UNK_180a1abc8;', 'undefined* CommandList;'),
        (r'undefined UNK_180a1abf8;', 'undefined* Fence;'),
        (r'undefined UNK_180a1ac10;', 'undefined* DescriptorHeap;'),
        (r'undefined UNK_180a1ac28;', 'undefined* Resource;'),
        (r'undefined UNK_180a1ac38;', 'undefined* GpuResource;'),
        (r'undefined UNK_180a1ac88;', 'undefined* CpuResource;'),
        (r'undefined UNK_180a1aca0;', 'undefined* SharedResource;'),
        (r'undefined UNK_180a1ad38;', 'undefined* ResourceAllocator;'),
        (r'undefined UNK_180a1ac70;', 'undefined* MemoryAllocator;'),
        (r'undefined UNK_180a1acc0;', 'undefined* PoolAllocator;'),
        (r'undefined UNK_180a1ac48;', 'undefined* StackAllocator;'),
        (r'undefined UNK_180a1af58;', 'undefined* RenderTarget;'),
        (r'undefined UNK_180a1aec8;', 'undefined* DepthStencilTarget;'),
        (r'undefined UNK_180a1adb8;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a1add8;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a1adf0;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a1ad98;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a1ae38;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a1ae20;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a1ae60;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a1afe8;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a1b4b0;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a1b430;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a1b470;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a1b3b0;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a1b3f0;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a1b038;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a1b090;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a1b070;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a09a40;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a1b100;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a1b368;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a1b0f8;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a1b168;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a1b2d8;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a1b248;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a1b238;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a1c060;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a1c078;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a1c090;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a1c0b0;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a1c0c8;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a1c0e0;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a1c0f8;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a1bfb0;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a1bfc8;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a1bfe0;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a1bff8;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a1c010;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a1c040;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a1bab8;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a1bad8;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a1bd10;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a1cc50;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a1cdc0;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a1cf60;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a1cf28;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a1d010;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a1d060;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a13bd8;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a1d900;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a1d958;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a1d8b0;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a1db58;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a1dba8;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a2ac38;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a1ede0;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a1ed58;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a1ed70;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a1ed88;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a1ed48;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a1edc0;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a1eda0;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a1edb0;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a1f0f8;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a1f268;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a1f3e8;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a1f578;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a1f6e0;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a1f6f0;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a1f758;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a1f770;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a1f978;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a1fae8;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a1fc70;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a1fe08;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a20298;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a201d0;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a201f8;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a20248;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a20260;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a20278;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a20448;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a20758;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a20970;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a205b8;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a205d0;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a205f8;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a20610;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a20628;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a20640;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a20660;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a20670;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a20688;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a20698;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a206b0;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a206c0;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a206d8;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a206f0;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a20738;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a20740;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a0c280;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a205b0;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a205e8;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a205f0;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a20720;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a20710;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a20748;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a20ae0;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a20cc0;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a20f68;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a20e68;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a210d8;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a21248;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a213f8;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a213b0;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a213d8;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a213c0;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a21560;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a21628;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a21780;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a217a0;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a22a30;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a217c0;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a17810;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a17814;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a218e0;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a21880;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a21950;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a21968;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a21978;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a21988;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a21990;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a219a0;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a219b8;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a219c8;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a219e0;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a219f4;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a21a30;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a21a40;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a21be8;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a21a10;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a16540;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a21a00;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a21a48;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a21a58;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a21a70;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a21a80;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a21a90;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a21aa8;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a21ac8;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a21ae0;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a21b00;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a21b18;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a21b30;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a21b50;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a21b68;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a21b78;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a21b98;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a21bb0;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a21bc0;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a21aa0;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a21b0c;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a21b60;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a21bd0;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a21c30;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a21bf8;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a21c18;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a21c40;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a21c60;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a1022c;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a2aea0;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a2af60;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a21d50;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a21d68;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a21d98;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a21dc0;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a21e50;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a21f48;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a21e98;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a1cbf0;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a21fa0;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a21fc0;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a21fd0;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a21fe8;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a22000;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a22008;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a22018;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a22028;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a22040;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a22050;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a22070;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a22088;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a22098;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a220a8;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a220c8;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a220e0;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a22100;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a22120;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a22138;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a22148;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a22160;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a221c0;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a22180;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a22198;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a221b0;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a221e0;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a221f8;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a22210;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a22228;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a22240;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a22268;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a22290;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a222b8;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a22348;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a22368;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a222e0;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a2233c;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a22380;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a22394;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a22398;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a2239c;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a223a8;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a223c8;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a223e0;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a22400;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a22418;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a22428;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a22438;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a22450;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a2246c;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a22478;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a22490;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a224a0;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a1cbf8;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a21874;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a217e8;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a224b8;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a22798;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a227b8;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a227f8;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a22820;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a22838;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a227d8;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a22870;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a228a0;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a228c8;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a22858;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a22948;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a22ab0;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a22a98;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a22ac0;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a22ad8;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a22af0;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a22b10;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a22b28;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a3cb88;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a3cbe8;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a12c50;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a271b0;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a27220;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a272b0;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a272c8;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a272d8;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a27318;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a0af90;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a27230;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a27238;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a27258;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a27278;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a27338;', 'undefined* VertexResource;'),
        (r'undefined UNK_180a27350;', 'undefined* IndexResource;'),
        (r'undefined UNK_180a27360;', 'undefined* ConstantResource;'),
        (r'undefined UNK_180a27370;', 'undefined* StructuredResource;'),
        (r'undefined UNK_180a27390;', 'undefined* ByteAddressResource;'),
        (r'undefined UNK_180a273a0;', 'undefined* IndirectResource;'),
        (r'undefined UNK_180a27bc8;', 'undefined* RaytracingResource;'),
        (r'undefined UNK_180a27c28;', 'undefined* AccelerationResource;'),
        (r'undefined UNK_180a27cd8;', 'undefined* ShaderResource;'),
        (r'undefined UNK_180a29654;', 'undefined* TextureResource;'),
        (r'undefined UNK_180a29684;', 'undefined* BufferResource;'),
        (r'undefined UNK_180a29650;', 'undefined* VertexResource;'),
    ]
    
    # 应用替换
    for pattern, replacement in replacements:
        content = re.sub(pattern, replacement, content)
    
    # 写回文件
    with open('/dev/shm/mountblade-code/TaleWorlds.Native/src/03_rendering.c', 'w', encoding='utf-8') as f:
        f.write(content)
    
    print("UNK_变量替换完成")

if __name__ == "__main__":
    replace_unk_variables()