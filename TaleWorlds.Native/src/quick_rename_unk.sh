#!/bin/bash

# 快速批量重命名06_utilities.c文件中的UNK_变量
# 使用sed进行高效替换

FILE_PATH="/dev/shm/mountblade-code/TaleWorlds.Native/src/06_utilities.c"

echo "开始批量重命名UNK_变量..."

# 创建备份
cp "$FILE_PATH" "$FILE_PATH.backup2"
echo "已创建备份文件: $FILE_PATH.backup2"

# 使用sed进行批量替换
sed -i 's/\bUNK_180a39c30\b/SystemVariable026/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39c50\b/SystemVariable027/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39c60\b/SystemVariable028/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39c80\b/SystemVariable029/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39c98\b/SystemVariable030/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39cb8\b/SystemVariable031/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39ccc\b/SystemVariable032/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39cd0\b/SystemVariable033/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39cd4\b/SystemVariable034/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39cd8\b/SystemVariable035/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39ce0\b/SystemVariable036/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39cf8\b/SystemVariable037/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39d10\b/SystemVariable038/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39d28\b/SystemVariable039/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39d40\b/SystemVariable040/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39d58\b/SystemVariable041/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39d70\b/SystemVariable042/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39d88\b/SystemVariable043/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39d98\b/SystemVariable044/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39da8\b/SystemVariable045/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39db0\b/SystemVariable046/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39dc0\b/SystemVariable047/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39dd0\b/SystemVariable048/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39de0\b/SystemVariable049/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39df0\b/SystemVariable050/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39e08\b/SystemVariable051/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39e18\b/SystemVariable052/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39e30\b/SystemVariable053/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39e48\b/SystemVariable054/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39e58\b/SystemVariable055/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39e78\b/SystemVariable056/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39e90\b/SystemVariable057/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39ea8\b/SystemVariable058/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39eb8\b/SystemVariable059/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39ed0\b/SystemVariable060/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39ee0\b/SystemVariable061/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39ef0\b/SystemVariable062/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39f00\b/SystemVariable063/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39f18\b/SystemVariable064/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39f28\b/SystemVariable065/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39f50\b/SystemVariable066/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39f60\b/SystemVariable067/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39f78\b/SystemVariable068/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39f88\b/SystemVariable069/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39f98\b/SystemVariable070/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39fb0\b/SystemVariable071/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39fc0\b/SystemVariable072/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39fe0\b/SystemVariable073/g' "$FILE_PATH"
sed -i 's/\bUNK_180a39ff8\b/SystemVariable074/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a018\b/SystemVariable075/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a038\b/SystemVariable076/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a048\b/SystemVariable077/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a058\b/SystemVariable078/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a068\b/SystemVariable079/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a078\b/SystemVariable080/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a098\b/SystemVariable081/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a0b8\b/SystemVariable082/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a0d0\b/SystemVariable083/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a0f0\b/SystemVariable084/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a118\b/SystemVariable085/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a140\b/SystemVariable086/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a158\b/SystemVariable087/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a178\b/SystemVariable088/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a188\b/SystemVariable089/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a1a8\b/SystemVariable090/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a1b8\b/SystemVariable091/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a1c8\b/SystemVariable092/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a1e8\b/SystemVariable093/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a208\b/SystemVariable094/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a220\b/SystemVariable095/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a240\b/SystemVariable096/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a250\b/SystemVariable097/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a260\b/SystemVariable098/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a278\b/SystemVariable099/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a298\b/SystemVariable100/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a2b0\b/SystemVariable101/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a2c0\b/SystemVariable102/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a2d8\b/SystemVariable103/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a2e8\b/SystemVariable104/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a2f8\b/SystemVariable105/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a300\b/SystemVariable106/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a310\b/SystemVariable107/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a320\b/SystemVariable108/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a348\b/SystemVariable109/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a370\b/SystemVariable110/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a398\b/SystemVariable111/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a3c0\b/SystemVariable112/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a3d0\b/SystemVariable113/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a3e8\b/SystemVariable114/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a3f8\b/SystemVariable115/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a408\b/SystemVariable116/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a418\b/SystemVariable117/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a428\b/SystemVariable118/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a440\b/SystemVariable119/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a458\b/SystemVariable120/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a468\b/SystemVariable121/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a478\b/SystemVariable122/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a498\b/SystemVariable123/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a4a8\b/SystemVariable124/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a4c0\b/SystemVariable125/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a4d0\b/SystemVariable126/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a4e0\b/SystemVariable127/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a4f8\b/SystemVariable128/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a508\b/SystemVariable129/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a520\b/SystemVariable130/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a530\b/SystemVariable131/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a540\b/SystemVariable132/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a560\b/SystemVariable133/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a580\b/SystemVariable134/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a5a8\b/SystemVariable135/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a5c0\b/SystemVariable136/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a5d0\b/SystemVariable137/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a5e0\b/SystemVariable138/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a600\b/SystemVariable139/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a620\b/SystemVariable140/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a630\b/SystemVariable141/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a640\b/SystemVariable142/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a650\b/SystemVariable143/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a660\b/SystemVariable144/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a670\b/SystemVariable145/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a688\b/SystemVariable146/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a6a0\b/SystemVariable147/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a6c0\b/SystemVariable148/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a6e0\b/SystemVariable149/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a6f8\b/SystemVariable150/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a708\b/SystemVariable151/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a720\b/SystemVariable152/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a738\b/SystemVariable153/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a748\b/SystemVariable154/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a754\b/SystemVariable155/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a758\b/SystemVariable156/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a768\b/SystemVariable157/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a778\b/SystemVariable158/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a788\b/SystemVariable159/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a798\b/SystemVariable160/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a7a8\b/SystemVariable161/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a7b8\b/SystemVariable162/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a7d0\b/SystemVariable163/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a7e0\b/SystemVariable164/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a7f0\b/SystemVariable165/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a800\b/SystemVariable166/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a820\b/SystemVariable167/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a830\b/SystemVariable168/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a850\b/SystemVariable169/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a860\b/SystemVariable170/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a870\b/SystemVariable171/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a880\b/SystemVariable172/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a898\b/SystemVariable173/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a8b0\b/SystemVariable174/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a8c0\b/SystemVariable175/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a8d8\b/SystemVariable176/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a8f0\b/SystemVariable177/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a900\b/SystemVariable178/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a910\b/SystemVariable179/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a920\b/SystemVariable180/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a938\b/SystemVariable181/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a948\b/SystemVariable182/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a960\b/SystemVariable183/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a970\b/SystemVariable184/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a988\b/SystemVariable185/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a998\b/SystemVariable186/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a9b0\b/SystemVariable187/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a9c8\b/SystemVariable188/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a9d8\b/SystemVariable189/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a9e0\b/SystemVariable190/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3a9f0\b/SystemVariable191/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aa08\b/SystemVariable192/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aa20\b/SystemVariable193/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aa38\b/SystemVariable194/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aa50\b/SystemVariable195/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aa70\b/SystemVariable196/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aa98\b/SystemVariable197/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aab0\b/SystemVariable198/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aac0\b/SystemVariable199/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aad8\b/SystemVariable200/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aae8\b/SystemVariable201/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aaf8\b/SystemVariable202/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ab08\b/SystemVariable203/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ab18\b/SystemVariable204/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ab28\b/SystemVariable205/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ab38\b/SystemVariable206/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ab50\b/SystemVariable207/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ab60\b/SystemVariable208/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ab70\b/SystemVariable209/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ab80\b/SystemVariable210/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ab90\b/SystemVariable211/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aba0\b/SystemVariable212/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3abb0\b/SystemVariable213/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3abc0\b/SystemVariable214/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3abd0\b/SystemVariable215/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3abe0\b/SystemVariable216/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3abe8\b/SystemVariable217/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ac00\b/SystemVariable218/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ac10\b/SystemVariable219/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ac18\b/SystemVariable220/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ac30\b/SystemVariable221/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ac48\b/SystemVariable222/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ac68\b/SystemVariable223/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ac80\b/SystemVariable224/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ac90\b/SystemVariable225/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3aca8\b/SystemVariable226/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3acc8\b/SystemVariable227/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3acd8\b/SystemVariable228/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3acf8\b/SystemVariable229/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ad18\b/SystemVariable230/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ad30\b/SystemVariable231/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ad60\b/SystemVariable232/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ad88\b/SystemVariable233/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ada0\b/SystemVariable234/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3adb8\b/SystemVariable235/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3add0\b/SystemVariable236/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ade8\b/SystemVariable237/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ae00\b/SystemVariable238/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3ae18\b/SystemVariable239/g' "$FILE_PATH"
sed -i 's/\bUNK_180a2eac0\b/SystemVariable240/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3e5e8\b/SystemVariable241/g' "$FILE_PATH"
sed -i 's/\bUNK_18064ffc0\b/SystemVariable242/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3c8c8\b/SystemVariable243/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3c908\b/SystemVariable244/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3d970\b/SystemVariable245/g' "$FILE_PATH"
sed -i 's/\bUNK_180a3db60\b/SystemVariable246/g' "$FILE_PATH"

echo "批量重命名完成！"

# 验证结果
REMAINING_UNK=$(grep -o 'UNK_[a-fA-F0-9_]*' "$FILE_PATH" | sort -u | wc -l)
echo "剩余UNK_变量数量: $REMAINING_UNK"

if [ "$REMAINING_UNK" -eq 0 ]; then
    echo "✓ 所有UNK_变量已成功重命名"
else
    echo "⚠ 仍有 $REMAINING_UNK 个UNK_变量未处理"
fi