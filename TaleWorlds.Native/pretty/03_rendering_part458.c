#include "TaleWorlds.Native.Split.h"

// 03_rendering_part458.c - 2 个函数

// 函数: void FUN_180514272(int64_t param_1,uint64_t param_2,uint64_t param_3,int64_t param_4)
void FUN_180514272(int64_t param_1,uint64_t param_2,uint64_t param_3,int64_t param_4)

{
  int32_t *puVar1;
  uint uVar2;
  float fVar3;
  float fVar4;
  int64_t lVar5;
  uint64_t *puVar6;
  int64_t lVar7;
  int32_t uVar8;
  int32_t uVar9;
  int32_t uVar10;
  int32_t uVar11;
  float fVar12;
  float fVar13;
  uint64_t uVar14;
  uint64_t uVar15;
  uint64_t uVar16;
  uint64_t uVar17;
  int64_t in_RAX;
  float *pfVar18;
  uint *puVar19;
  int64_t lVar20;
  int64_t unaff_RBX;
  int32_t *unaff_RBP;
  int64_t unaff_RSI;
  int64_t lVar21;
  int64_t in_R11;
  ushort unaff_R12W;
  float *unaff_R13;
  uint64_t unaff_R14;
  char unaff_R15B;
  float fVar22;
  float fVar23;
  float fVar24;
  int8_t auVar25 [16];
  float fVar26;
  float fVar27;
  int32_t unaff_XMM6_Da;
  int32_t unaff_XMM6_Db;
  int32_t unaff_XMM6_Dc;
  int32_t unaff_XMM6_Dd;
  int32_t unaff_XMM7_Da;
  int32_t unaff_XMM7_Db;
  int32_t unaff_XMM7_Dc;
  int32_t unaff_XMM7_Dd;
  int32_t unaff_XMM8_Da;
  int32_t unaff_XMM8_Db;
  int32_t unaff_XMM8_Dc;
  int32_t unaff_XMM8_Dd;
  int32_t unaff_XMM9_Da;
  float fVar28;
  float fVar29;
  int32_t unaff_XMM9_Db;
  int32_t unaff_XMM9_Dc;
  int32_t unaff_XMM9_Dd;
  int32_t unaff_XMM10_Da;
  float fVar30;
  int32_t unaff_XMM10_Db;
  int32_t unaff_XMM10_Dc;
  int32_t unaff_XMM10_Dd;
  int32_t unaff_XMM11_Da;
  int32_t unaff_XMM11_Db;
  int32_t unaff_XMM11_Dc;
  int32_t unaff_XMM11_Dd;
  int32_t unaff_XMM12_Da;
  float fVar31;
  int32_t unaff_XMM12_Db;
  int32_t unaff_XMM12_Dc;
  int32_t unaff_XMM12_Dd;
  int32_t unaff_XMM13_Da;
  float fVar32;
  int32_t unaff_XMM13_Db;
  int32_t unaff_XMM13_Dc;
  int32_t unaff_XMM13_Dd;
  int32_t unaff_XMM14_Da;
  float fVar33;
  int32_t unaff_XMM14_Db;
  int32_t unaff_XMM14_Dc;
  int32_t unaff_XMM14_Dd;
  int32_t unaff_XMM15_Da;
  int32_t uVar34;
  int32_t unaff_XMM15_Db;
  int32_t unaff_XMM15_Dc;
  int32_t unaff_XMM15_Dd;
  float fStack0000000000000044;
  float in_stack_00000048;
  float fStack000000000000004c;
  int32_t in_stack_00000050;
  int32_t uStack0000000000000064;
  float fStack0000000000000068;
  float fStack000000000000006c;
  float fStack0000000000000070;
  int32_t uStack0000000000000074;
  float in_stack_00000078;
  float fStack000000000000007c;
  int32_t uStack0000000000000080;
  int32_t uStack0000000000000084;
  
  *(uint64_t *)(in_R11 + 0x20) = unaff_R14;
  lVar20 = *(int64_t *)(in_RAX + 0x8a8);
  *(int32_t *)(in_R11 + -0x38) = unaff_XMM6_Da;
  *(int32_t *)(in_R11 + -0x34) = unaff_XMM6_Db;
  *(int32_t *)(in_R11 + -0x30) = unaff_XMM6_Dc;
  *(int32_t *)(in_R11 + -0x2c) = unaff_XMM6_Dd;
  *(int32_t *)(in_R11 + -0x48) = unaff_XMM7_Da;
  *(int32_t *)(in_R11 + -0x44) = unaff_XMM7_Db;
  *(int32_t *)(in_R11 + -0x40) = unaff_XMM7_Dc;
  *(int32_t *)(in_R11 + -0x3c) = unaff_XMM7_Dd;
  *(int32_t *)(in_R11 + -0x58) = unaff_XMM8_Da;
  *(int32_t *)(in_R11 + -0x54) = unaff_XMM8_Db;
  *(int32_t *)(in_R11 + -0x50) = unaff_XMM8_Dc;
  *(int32_t *)(in_R11 + -0x4c) = unaff_XMM8_Dd;
  *(int *)(param_1 + 0x5a4) = (int)param_4;
  lVar5 = *(int64_t *)(unaff_RBX + 0x728);
  *(int32_t *)(in_R11 + -0x68) = unaff_XMM9_Da;
  *(int32_t *)(in_R11 + -100) = unaff_XMM9_Db;
  *(int32_t *)(in_R11 + -0x60) = unaff_XMM9_Dc;
  *(int32_t *)(in_R11 + -0x5c) = unaff_XMM9_Dd;
  *(int32_t *)(in_R11 + -0x78) = unaff_XMM10_Da;
  *(int32_t *)(in_R11 + -0x74) = unaff_XMM10_Db;
  *(int32_t *)(in_R11 + -0x70) = unaff_XMM10_Dc;
  *(int32_t *)(in_R11 + -0x6c) = unaff_XMM10_Dd;
  *(int32_t *)(in_R11 + -0x88) = unaff_XMM11_Da;
  *(int32_t *)(in_R11 + -0x84) = unaff_XMM11_Db;
  *(int32_t *)(in_R11 + -0x80) = unaff_XMM11_Dc;
  *(int32_t *)(in_R11 + -0x7c) = unaff_XMM11_Dd;
  *(char *)(lVar5 + 0x5a8) = unaff_R15B;
  lVar5 = *(int64_t *)(unaff_RBX + 0x6d8);
  *(int32_t *)(in_R11 + -0x98) = unaff_XMM12_Da;
  *(int32_t *)(in_R11 + -0x94) = unaff_XMM12_Db;
  *(int32_t *)(in_R11 + -0x90) = unaff_XMM12_Dc;
  *(int32_t *)(in_R11 + -0x8c) = unaff_XMM12_Dd;
  *(int32_t *)(in_R11 + -0xa8) = unaff_XMM13_Da;
  *(int32_t *)(in_R11 + -0xa4) = unaff_XMM13_Db;
  *(int32_t *)(in_R11 + -0xa0) = unaff_XMM13_Dc;
  *(int32_t *)(in_R11 + -0x9c) = unaff_XMM13_Dd;
  param_4 = param_4 * 0xa60;
  *(int32_t *)(in_R11 + -0xb8) = unaff_XMM14_Da;
  *(int32_t *)(in_R11 + -0xb4) = unaff_XMM14_Db;
  *(int32_t *)(in_R11 + -0xb0) = unaff_XMM14_Dc;
  *(int32_t *)(in_R11 + -0xac) = unaff_XMM14_Dd;
  *(int32_t *)(in_R11 + -200) = unaff_XMM15_Da;
  *(int32_t *)(in_R11 + -0xc4) = unaff_XMM15_Db;
  *(int32_t *)(in_R11 + -0xc0) = unaff_XMM15_Dc;
  *(int32_t *)(in_R11 + -0xbc) = unaff_XMM15_Dd;
  lVar5 = *(int64_t *)(*(int64_t *)(lVar5 + 0x8a8) + 0x260);
  if ((*(byte *)(lVar5 + 0xa8) & 1) == 0) {
    FUN_1802fac00(lVar5,*(int64_t *)(lVar5 + 0x10) + 0x70);
  }
  puVar19 = (uint *)((int64_t)*(char *)(*(int64_t *)(unaff_RBX + 0x590) + 0x25f9) * 0x100 +
                    *(int64_t *)(*(int64_t *)(lVar20 + 0x260) + 0x18));
  do {
    LOCK();
    uVar2 = *puVar19;
    *puVar19 = *puVar19 | 1;
    UNLOCK();
  } while ((uVar2 & 1) != 0);
  uVar14 = *(uint64_t *)(puVar19 + 1);
  uVar15 = *(uint64_t *)(puVar19 + 3);
  uVar16 = *(uint64_t *)(puVar19 + 5);
  uVar17 = *(uint64_t *)(puVar19 + 7);
  *(uint64_t *)(unaff_RBP + 0x18) = uVar14;
  *(uint64_t *)(unaff_RBP + 0x1a) = uVar15;
  *(uint64_t *)(unaff_RBP + 0x1c) = uVar16;
  *(uint64_t *)(unaff_RBP + 0x1e) = uVar17;
  *(uint64_t *)(unaff_RBP + 0x10) = uVar14;
  *(uint64_t *)(unaff_RBP + 0x12) = uVar15;
  *puVar19 = 0;
  lVar5 = *(int64_t *)(unaff_RBX + 0x590);
  *(uint64_t *)(unaff_RBP + 0x14) = uVar16;
  *(uint64_t *)(unaff_RBP + 0x16) = uVar17;
  puVar19 = (uint *)((int64_t)*(char *)(lVar5 + 0x25fb) * 0x100 +
                    *(int64_t *)(*(int64_t *)(lVar20 + 0x260) + 0x18));
  do {
    LOCK();
    uVar2 = *puVar19;
    *puVar19 = *puVar19 | 1;
    UNLOCK();
  } while ((uVar2 & 1) != 0);
  auVar25 = *(int8_t (*) [16])(puVar19 + 1);
  fVar26 = auVar25._4_4_;
  fVar27 = auVar25._8_4_;
  fVar32 = (float)puVar19[5];
  fVar3 = (float)puVar19[6];
  fVar4 = (float)puVar19[7];
  uVar2 = puVar19[8];
  *(int8_t (*) [16])(unaff_RBP + 0x20) = auVar25;
  unaff_RBP[0x24] = fVar32;
  unaff_RBP[0x25] = fVar3;
  unaff_RBP[0x26] = fVar4;
  unaff_RBP[0x27] = uVar2;
  uVar34 = 0x3f800000;
  *puVar19 = 0;
  lVar20 = *(int64_t *)(unaff_RBX + 0x6d8);
  unaff_RBP[-0xc] = fVar32;
  unaff_RBP[-0xb] = fVar3;
  unaff_RBP[-10] = fVar4;
  unaff_RBP[-9] = uVar2;
  lVar20 = *(int64_t *)(lVar20 + 0x8a8);
  fVar22 = *(float *)(lVar20 + 0x70);
  lVar5 = *(int64_t *)(*(int64_t *)(param_4 + 0x36f8 + unaff_RSI) + 0x18);
  fVar28 = *(float *)(lVar20 + 0x84);
  fVar29 = *(float *)(lVar20 + 0x74);
  unaff_RBP[-0x1f] = 0x7f7fffff;
  fVar31 = *(float *)(lVar20 + 0x80);
  lVar21 = (int64_t)unaff_R15B * 0x100;
  fVar30 = *(float *)(lVar20 + 0x98);
  fVar23 = auVar25._0_4_ * fVar27;
  *(int8_t (*) [16])(unaff_RBP + -0x10) = auVar25;
  fVar33 = fVar32 * fVar29 + fVar3 * fVar28 + *(float *)(lVar20 + 0xa4);
  fVar30 = fVar4 * fVar30 + *(float *)(lVar20 + 0xa8);
  fVar32 = fVar3 * fVar31 + fVar32 * fVar22 + *(float *)(lVar20 + 0xa0);
  fVar22 = fVar26 * auVar25._12_4_;
  fVar28 = fVar27 * auVar25._12_4_ - auVar25._0_4_ * fVar26;
  fVar28 = fVar28 + fVar28;
  unaff_RBP[-0x20] = fVar30;
  fVar22 = fVar23 + fVar23 + fVar22 + fVar22;
  fVar29 = fVar28 * *(float *)(unaff_RBX + 0x534) + fVar22 * *(float *)(unaff_RBX + 0x524);
  fVar31 = 1.0 - (fVar26 * fVar26 + fVar26 * fVar26 + fVar27 * fVar27 + fVar27 * fVar27);
  fVar22 = fVar28 * *(float *)(unaff_RBX + 0x530) + fVar22 * *(float *)(unaff_RBX + 0x520);
  do {
    LOCK();
    puVar19 = (uint *)(lVar21 + lVar5);
    uVar2 = *puVar19;
    *puVar19 = *puVar19 | 1;
    UNLOCK();
  } while ((uVar2 & 1) != 0);
  puVar1 = (int32_t *)(lVar21 + 4 + lVar5);
  uVar8 = *puVar1;
  uVar9 = puVar1[1];
  uVar10 = puVar1[2];
  uVar11 = puVar1[3];
  pfVar18 = (float *)(lVar21 + 0x14 + lVar5);
  fVar28 = *pfVar18;
  fVar3 = pfVar18[1];
  fVar4 = pfVar18[2];
  fVar23 = pfVar18[3];
  unaff_RBP[0x28] = uVar8;
  unaff_RBP[0x29] = uVar9;
  unaff_RBP[0x2a] = uVar10;
  unaff_RBP[0x2b] = uVar11;
  unaff_RBP[0x2c] = fVar28;
  unaff_RBP[0x2d] = fVar3;
  unaff_RBP[0x2e] = fVar4;
  unaff_RBP[0x2f] = fVar23;
  *(int32_t *)(lVar21 + lVar5) = 0;
  lVar20 = *(int64_t *)(param_4 + 0x3778 + unaff_RSI);
  unaff_RBP[-8] = uVar8;
  unaff_RBP[-7] = uVar9;
  unaff_RBP[-6] = uVar10;
  unaff_RBP[-5] = uVar11;
  unaff_RBP[-4] = fVar28;
  unaff_RBP[-3] = fVar3;
  unaff_RBP[-2] = fVar4;
  unaff_RBP[-1] = fVar23;
  in_stack_00000078 = fVar32;
  fStack000000000000007c = fVar33;
  pfVar18 = (float *)FUN_180534930(*(int64_t *)(lVar20 + 0x8a8) + 0x70,unaff_RBP + 8);
  in_stack_00000050 = 0x7f7fffff;
  fStack0000000000000044 = *pfVar18 - fVar28;
  in_stack_00000048 = pfVar18[1] - fVar3;
  fStack000000000000004c = pfVar18[2] - fVar4;
  FUN_180285b40(unaff_RBP + -8,unaff_RBP + -0x1e,&stack0x00000044);
  puVar6 = *(uint64_t **)(unaff_RBX + 0x728);
  uVar14 = *(uint64_t *)(unaff_RBP + -0x1c);
  *puVar6 = *(uint64_t *)(unaff_RBP + -0x1e);
  puVar6[1] = uVar14;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  fVar28 = unaff_R13[1];
  fVar3 = unaff_R13[2];
  fVar4 = unaff_R13[3];
  *(float *)(lVar20 + 0x50) = *unaff_R13;
  *(float *)(lVar20 + 0x54) = fVar28;
  *(float *)(lVar20 + 0x58) = fVar3;
  *(float *)(lVar20 + 0x5c) = fVar4;
  FUN_18063b470(unaff_RBP + -0x18,unaff_RBX + 0x520);
  fVar26 = (float)unaff_RBP[0x18];
  fVar27 = (float)unaff_RBP[0x19];
  fVar12 = (float)unaff_RBP[0x1a];
  fVar13 = (float)unaff_RBP[0x1b];
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  fVar28 = (float)unaff_RBP[-0x18];
  fVar3 = (float)unaff_RBP[-0x17];
  fVar4 = (float)unaff_RBP[-0x16];
  fVar23 = (float)unaff_RBP[-0x15];
  uStack0000000000000064 = 0x7f7fffff;
  *(float *)(lVar20 + 0x40) =
       fVar23 * fVar13 * -1.0 + fVar4 * fVar12 * -1.0 + (fVar26 * fVar28 - fVar3 * fVar27);
  *(float *)(lVar20 + 0x44) =
       fVar4 * fVar13 * 1.0 + fVar28 * fVar27 * 1.0 + (fVar26 * fVar3 - fVar23 * fVar12);
  *(float *)(lVar20 + 0x48) =
       fVar23 * fVar27 * 1.0 + fVar28 * fVar12 * 1.0 + (fVar26 * fVar4 - fVar3 * fVar13);
  *(float *)(lVar20 + 0x4c) =
       fVar3 * fVar12 * 1.0 + fVar28 * fVar13 * 1.0 + (fVar26 * fVar23 - fVar4 * fVar27);
  lVar20 = *(int64_t *)(*(int64_t *)(param_4 + 0x3778 + unaff_RSI) + 0x8a8);
  lVar5 = *(int64_t *)(unaff_RBX + 0x20);
  fVar28 = *(float *)(lVar20 + 0xa4);
  fVar3 = *(float *)(lVar5 + 0x10);
  fVar4 = *(float *)(lVar20 + 0xa8);
  fVar23 = *(float *)(lVar5 + 0x14);
  lVar7 = *(int64_t *)(unaff_RBX + 0x728);
  *(float *)(lVar7 + 0x60) = *(float *)(lVar20 + 0xa0) - *(float *)(lVar5 + 0xc);
  *(float *)(lVar7 + 100) = fVar28 - fVar3;
  *(float *)(lVar7 + 0x68) = fVar4 - fVar23;
  *(int32_t *)(lVar7 + 0x6c) = 0x7f7fffff;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  fVar28 = *(float *)(lVar20 + 0x68);
  fVar3 = *(float *)(lVar20 + 100);
  fVar4 = *(float *)(lVar20 + 0x60);
  fVar23 = fVar4 * fVar4 + fVar3 * fVar3 + fVar28 * fVar28;
  auVar25 = rsqrtss(ZEXT416((uint)fVar23),ZEXT416((uint)fVar23));
  fVar24 = auVar25._0_4_;
  fVar23 = fVar24 * 0.5 * (3.0 - fVar23 * fVar24 * fVar24);
  *(float *)(lVar20 + 0x68) = fVar28 * fVar23;
  *(float *)(lVar20 + 0x60) = fVar4 * fVar23;
  *(float *)(lVar20 + 100) = fVar3 * fVar23;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  *(uint64_t *)(lVar20 + 0x70) = *(uint64_t *)(lVar20 + 0x60);
  *(uint64_t *)(lVar20 + 0x78) = *(uint64_t *)(lVar20 + 0x68);
  fVar28 = *unaff_R13;
  fVar3 = unaff_R13[2];
  fVar4 = unaff_R13[1];
  *(int32_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x5a0) =
       *(int32_t *)(*(int64_t *)(unaff_RBX + 0x590) + 0x2498);
  uVar14 = *(uint64_t *)(unaff_RBP + -0xc);
  uVar15 = *(uint64_t *)(unaff_RBP + -10);
  uVar16 = *(uint64_t *)(unaff_RBP + -0x10);
  uVar17 = *(uint64_t *)(unaff_RBP + -0xe);
  *(float *)(*(int64_t *)(unaff_RBX + 0x728) + 0x4f0) =
       (fVar4 - fVar33) * fVar29 + (fVar28 - fVar32) * fVar22 + (fVar3 - fVar30) * fVar31;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  *(uint64_t *)(lVar20 + 0xa0) = uVar16;
  *(uint64_t *)(lVar20 + 0xa8) = uVar17;
  *(uint64_t *)(lVar20 + 0xb0) = uVar14;
  *(uint64_t *)(lVar20 + 0xb8) = uVar15;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  *(float *)(lVar20 + 0x90) = fVar26;
  *(float *)(lVar20 + 0x94) = fVar27;
  *(float *)(lVar20 + 0x98) = fVar12;
  *(float *)(lVar20 + 0x9c) = fVar13;
  *(int32_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x59c) =
       *(int32_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x4f0);
  *(int8_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x5ae) = 1;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  if (*(float *)(lVar20 + 0x59c) < 0.1) {
    fVar28 = 0.1 - *(float *)(lVar20 + 0x59c);
    *(float *)(lVar20 + 0x50) = fVar22 * fVar28 + *(float *)(lVar20 + 0x50);
    *(float *)(lVar20 + 0x54) = fVar29 * fVar28 + *(float *)(lVar20 + 0x54);
    *(float *)(lVar20 + 0x58) = fVar31 * fVar28 + *(float *)(lVar20 + 0x58);
    *(int32_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x59c) = 0x3dcccccd;
    lVar20 = *(int64_t *)(*(int64_t *)(param_4 + 0x36f8 + unaff_RSI) + 0x18);
    do {
      LOCK();
      puVar19 = (uint *)(lVar21 + lVar20);
      uVar2 = *puVar19;
      *puVar19 = *puVar19 | 1;
      UNLOCK();
    } while ((uVar2 & 1) != 0);
    puVar1 = (int32_t *)(lVar21 + 4 + lVar20);
    uVar8 = *puVar1;
    uVar9 = puVar1[1];
    uVar10 = puVar1[2];
    uVar11 = puVar1[3];
    pfVar18 = (float *)(lVar21 + 0x14 + lVar20);
    fVar22 = *pfVar18;
    fVar28 = pfVar18[1];
    fVar29 = pfVar18[2];
    fVar31 = pfVar18[3];
    unaff_RBP[0x30] = uVar8;
    unaff_RBP[0x31] = uVar9;
    unaff_RBP[0x32] = uVar10;
    unaff_RBP[0x33] = uVar11;
    unaff_RBP[0x34] = fVar22;
    unaff_RBP[0x35] = fVar28;
    unaff_RBP[0x36] = fVar29;
    unaff_RBP[0x37] = fVar31;
    *(int32_t *)(lVar21 + lVar20) = 0;
    lVar20 = *(int64_t *)(param_4 + 0x3778 + unaff_RSI);
    lVar5 = *(int64_t *)(unaff_RBX + 0x728);
    *unaff_RBP = uVar8;
    unaff_RBP[1] = uVar9;
    unaff_RBP[2] = uVar10;
    unaff_RBP[3] = uVar11;
    unaff_RBP[4] = fVar22;
    unaff_RBP[5] = fVar28;
    unaff_RBP[6] = fVar29;
    unaff_RBP[7] = fVar31;
    pfVar18 = (float *)FUN_180534930(*(int64_t *)(lVar20 + 0x8a8) + 0x70,unaff_RBP + 0xc,
                                     lVar5 + 0x50);
    uStack0000000000000074 = 0x7f7fffff;
    fStack0000000000000068 = *pfVar18 - fVar22;
    fStack000000000000006c = pfVar18[1] - fVar28;
    fStack0000000000000070 = pfVar18[2] - fVar29;
    FUN_180285b40(fVar28,unaff_RBP + -0x14,&stack0x00000068);
    puVar1 = *(int32_t **)(unaff_RBX + 0x728);
    uVar8 = unaff_RBP[-0x13];
    uVar9 = unaff_RBP[-0x12];
    uVar10 = unaff_RBP[-0x11];
    *puVar1 = unaff_RBP[-0x14];
    puVar1[1] = uVar8;
    puVar1[2] = uVar9;
    puVar1[3] = uVar10;
    lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  }
  if ((unaff_R12W & 0x40) == 0) {
    uVar34 = 0x7149f2ca;
  }
  FUN_180575360(*(uint64_t *)(unaff_RBX + 0x590),lVar20 + 0x50,lVar20 + 0x40,
                *(float *)(lVar20 + 0x59c) / *(float *)(*(int64_t *)(unaff_RBX + 0x6d8) + 0x8c0),
                uVar34);
  fVar22 = (float)unaff_RBP[0x7c];
  *(float *)(*(int64_t *)(unaff_RBX + 0x728) + 0x598) = fVar22;
  *(int64_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x578) =
       *(int64_t *)
        (&system_error_code + (int64_t)*(int *)(*(int64_t *)(unaff_RBX + 0x728) + 0x580) * 8) -
       (int64_t)(fVar22 * -100000.0);
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  *(float *)(lVar20 + 0x10) = in_stack_00000078;
  *(float *)(lVar20 + 0x14) = fStack000000000000007c;
  *(int32_t *)(lVar20 + 0x18) = uStack0000000000000080;
  *(int32_t *)(lVar20 + 0x1c) = uStack0000000000000084;
  FUN_180516bd0(in_stack_00000078,unaff_R12W,0xc7d5);
                    // WARNING: Subroutine does not return
  SystemSecurityChecker(*(uint64_t *)(unaff_RBP + 0x38) ^ (uint64_t)&stack0x00000000);
}





// 函数: void FUN_180514380(uint64_t param_1,uint *param_2,uint param_3)
void FUN_180514380(uint64_t param_1,uint *param_2,uint param_3)

{
  uint *puVar1;
  int32_t *puVar2;
  uint uVar3;
  float fVar4;
  float fVar5;
  int64_t lVar6;
  uint64_t *puVar7;
  int64_t lVar8;
  int32_t uVar9;
  int32_t uVar10;
  int32_t uVar11;
  int32_t uVar12;
  float fVar13;
  float fVar14;
  uint64_t uVar15;
  uint64_t uVar16;
  uint64_t uVar17;
  uint64_t uVar18;
  float *pfVar19;
  int64_t lVar20;
  int64_t unaff_RBX;
  int32_t *unaff_RBP;
  int64_t unaff_RSI;
  int64_t unaff_RDI;
  int64_t lVar21;
  ushort unaff_R12W;
  float *unaff_R13;
  char unaff_R15B;
  float fVar22;
  float fVar23;
  float fVar24;
  int8_t auVar25 [16];
  float fVar26;
  float fVar27;
  float fVar28;
  float fVar29;
  float fVar30;
  float fVar31;
  float fVar32;
  float fVar33;
  int32_t uVar34;
  float fStack0000000000000044;
  float in_stack_00000048;
  float fStack000000000000004c;
  int32_t in_stack_00000050;
  int32_t uStack0000000000000064;
  float fStack0000000000000068;
  float fStack000000000000006c;
  float fStack0000000000000070;
  int32_t uStack0000000000000074;
  float fStack0000000000000078;
  float fStack000000000000007c;
  int32_t uStack0000000000000080;
  int32_t uStack0000000000000084;
  
  do {
    LOCK();
    uVar3 = *param_2;
    *param_2 = *param_2 | 1;
    UNLOCK();
  } while ((uVar3 & 1) != 0);
  auVar25 = *(int8_t (*) [16])(param_2 + 1);
  fVar26 = auVar25._4_4_;
  fVar27 = auVar25._8_4_;
  fVar32 = (float)param_2[5];
  fVar4 = (float)param_2[6];
  fVar5 = (float)param_2[7];
  uVar3 = param_2[8];
  *(int8_t (*) [16])(unaff_RBP + 0x20) = auVar25;
  unaff_RBP[0x24] = fVar32;
  unaff_RBP[0x25] = fVar4;
  unaff_RBP[0x26] = fVar5;
  unaff_RBP[0x27] = uVar3;
  uVar34 = 0x3f800000;
  *param_2 = param_3;
  lVar20 = *(int64_t *)(unaff_RBX + 0x6d8);
  unaff_RBP[-0xc] = fVar32;
  unaff_RBP[-0xb] = fVar4;
  unaff_RBP[-10] = fVar5;
  unaff_RBP[-9] = uVar3;
  lVar20 = *(int64_t *)(lVar20 + 0x8a8);
  fVar22 = *(float *)(lVar20 + 0x70);
  lVar6 = *(int64_t *)(*(int64_t *)(unaff_RDI + 0x36f8 + unaff_RSI) + 0x18);
  fVar28 = *(float *)(lVar20 + 0x84);
  fVar29 = *(float *)(lVar20 + 0x74);
  unaff_RBP[-0x1f] = 0x7f7fffff;
  fVar31 = *(float *)(lVar20 + 0x80);
  lVar21 = (int64_t)unaff_R15B * 0x100;
  fVar30 = *(float *)(lVar20 + 0x98);
  fVar23 = auVar25._0_4_ * fVar27;
  *(int8_t (*) [16])(unaff_RBP + -0x10) = auVar25;
  fVar33 = fVar32 * fVar29 + fVar4 * fVar28 + *(float *)(lVar20 + 0xa4);
  fVar30 = fVar5 * fVar30 + *(float *)(lVar20 + 0xa8);
  fVar32 = fVar4 * fVar31 + fVar32 * fVar22 + *(float *)(lVar20 + 0xa0);
  fVar22 = fVar26 * auVar25._12_4_;
  fVar28 = fVar27 * auVar25._12_4_ - auVar25._0_4_ * fVar26;
  fVar28 = fVar28 + fVar28;
  unaff_RBP[-0x20] = fVar30;
  fVar22 = fVar23 + fVar23 + fVar22 + fVar22;
  fVar29 = fVar28 * *(float *)(unaff_RBX + 0x534) + fVar22 * *(float *)(unaff_RBX + 0x524);
  fVar31 = 1.0 - (fVar26 * fVar26 + fVar26 * fVar26 + fVar27 * fVar27 + fVar27 * fVar27);
  fVar22 = fVar28 * *(float *)(unaff_RBX + 0x530) + fVar22 * *(float *)(unaff_RBX + 0x520);
  do {
    LOCK();
    puVar1 = (uint *)(lVar21 + lVar6);
    uVar3 = *puVar1;
    *puVar1 = *puVar1 | 1;
    UNLOCK();
  } while ((uVar3 & 1) != 0);
  puVar2 = (int32_t *)(lVar21 + 4 + lVar6);
  uVar9 = *puVar2;
  uVar10 = puVar2[1];
  uVar11 = puVar2[2];
  uVar12 = puVar2[3];
  pfVar19 = (float *)(lVar21 + 0x14 + lVar6);
  fVar28 = *pfVar19;
  fVar4 = pfVar19[1];
  fVar5 = pfVar19[2];
  fVar23 = pfVar19[3];
  unaff_RBP[0x28] = uVar9;
  unaff_RBP[0x29] = uVar10;
  unaff_RBP[0x2a] = uVar11;
  unaff_RBP[0x2b] = uVar12;
  unaff_RBP[0x2c] = fVar28;
  unaff_RBP[0x2d] = fVar4;
  unaff_RBP[0x2e] = fVar5;
  unaff_RBP[0x2f] = fVar23;
  *(uint *)(lVar21 + lVar6) = param_3;
  lVar20 = *(int64_t *)(unaff_RDI + 0x3778 + unaff_RSI);
  unaff_RBP[-8] = uVar9;
  unaff_RBP[-7] = uVar10;
  unaff_RBP[-6] = uVar11;
  unaff_RBP[-5] = uVar12;
  unaff_RBP[-4] = fVar28;
  unaff_RBP[-3] = fVar4;
  unaff_RBP[-2] = fVar5;
  unaff_RBP[-1] = fVar23;
  fStack0000000000000078 = fVar32;
  fStack000000000000007c = fVar33;
  pfVar19 = (float *)FUN_180534930(*(int64_t *)(lVar20 + 0x8a8) + 0x70,unaff_RBP + 8);
  in_stack_00000050 = 0x7f7fffff;
  fStack0000000000000044 = *pfVar19 - fVar28;
  in_stack_00000048 = pfVar19[1] - fVar4;
  fStack000000000000004c = pfVar19[2] - fVar5;
  FUN_180285b40(unaff_RBP + -8,unaff_RBP + -0x1e,&stack0x00000044);
  puVar7 = *(uint64_t **)(unaff_RBX + 0x728);
  uVar15 = *(uint64_t *)(unaff_RBP + -0x1c);
  *puVar7 = *(uint64_t *)(unaff_RBP + -0x1e);
  puVar7[1] = uVar15;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  fVar28 = unaff_R13[1];
  fVar4 = unaff_R13[2];
  fVar5 = unaff_R13[3];
  *(float *)(lVar20 + 0x50) = *unaff_R13;
  *(float *)(lVar20 + 0x54) = fVar28;
  *(float *)(lVar20 + 0x58) = fVar4;
  *(float *)(lVar20 + 0x5c) = fVar5;
  FUN_18063b470(unaff_RBP + -0x18,unaff_RBX + 0x520);
  fVar26 = (float)unaff_RBP[0x18];
  fVar27 = (float)unaff_RBP[0x19];
  fVar13 = (float)unaff_RBP[0x1a];
  fVar14 = (float)unaff_RBP[0x1b];
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  fVar28 = (float)unaff_RBP[-0x18];
  fVar4 = (float)unaff_RBP[-0x17];
  fVar5 = (float)unaff_RBP[-0x16];
  fVar23 = (float)unaff_RBP[-0x15];
  uStack0000000000000064 = 0x7f7fffff;
  *(float *)(lVar20 + 0x40) =
       fVar23 * fVar14 * -1.0 + fVar5 * fVar13 * -1.0 + (fVar26 * fVar28 - fVar4 * fVar27);
  *(float *)(lVar20 + 0x44) =
       fVar5 * fVar14 * 1.0 + fVar28 * fVar27 * 1.0 + (fVar26 * fVar4 - fVar23 * fVar13);
  *(float *)(lVar20 + 0x48) =
       fVar23 * fVar27 * 1.0 + fVar28 * fVar13 * 1.0 + (fVar26 * fVar5 - fVar4 * fVar14);
  *(float *)(lVar20 + 0x4c) =
       fVar4 * fVar13 * 1.0 + fVar28 * fVar14 * 1.0 + (fVar26 * fVar23 - fVar5 * fVar27);
  lVar20 = *(int64_t *)(*(int64_t *)(unaff_RDI + 0x3778 + unaff_RSI) + 0x8a8);
  lVar6 = *(int64_t *)(unaff_RBX + 0x20);
  fVar28 = *(float *)(lVar20 + 0xa4);
  fVar4 = *(float *)(lVar6 + 0x10);
  fVar5 = *(float *)(lVar20 + 0xa8);
  fVar23 = *(float *)(lVar6 + 0x14);
  lVar8 = *(int64_t *)(unaff_RBX + 0x728);
  *(float *)(lVar8 + 0x60) = *(float *)(lVar20 + 0xa0) - *(float *)(lVar6 + 0xc);
  *(float *)(lVar8 + 100) = fVar28 - fVar4;
  *(float *)(lVar8 + 0x68) = fVar5 - fVar23;
  *(int32_t *)(lVar8 + 0x6c) = 0x7f7fffff;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  fVar28 = *(float *)(lVar20 + 0x68);
  fVar4 = *(float *)(lVar20 + 100);
  fVar5 = *(float *)(lVar20 + 0x60);
  fVar23 = fVar5 * fVar5 + fVar4 * fVar4 + fVar28 * fVar28;
  auVar25 = rsqrtss(ZEXT416((uint)fVar23),ZEXT416((uint)fVar23));
  fVar24 = auVar25._0_4_;
  fVar23 = fVar24 * 0.5 * (3.0 - fVar23 * fVar24 * fVar24);
  *(float *)(lVar20 + 0x68) = fVar28 * fVar23;
  *(float *)(lVar20 + 0x60) = fVar5 * fVar23;
  *(float *)(lVar20 + 100) = fVar4 * fVar23;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  *(uint64_t *)(lVar20 + 0x70) = *(uint64_t *)(lVar20 + 0x60);
  *(uint64_t *)(lVar20 + 0x78) = *(uint64_t *)(lVar20 + 0x68);
  fVar28 = *unaff_R13;
  fVar4 = unaff_R13[2];
  fVar5 = unaff_R13[1];
  *(int32_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x5a0) =
       *(int32_t *)(*(int64_t *)(unaff_RBX + 0x590) + 0x2498);
  uVar15 = *(uint64_t *)(unaff_RBP + -0xc);
  uVar16 = *(uint64_t *)(unaff_RBP + -10);
  uVar17 = *(uint64_t *)(unaff_RBP + -0x10);
  uVar18 = *(uint64_t *)(unaff_RBP + -0xe);
  *(float *)(*(int64_t *)(unaff_RBX + 0x728) + 0x4f0) =
       (fVar5 - fVar33) * fVar29 + (fVar28 - fVar32) * fVar22 + (fVar4 - fVar30) * fVar31;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  *(uint64_t *)(lVar20 + 0xa0) = uVar17;
  *(uint64_t *)(lVar20 + 0xa8) = uVar18;
  *(uint64_t *)(lVar20 + 0xb0) = uVar15;
  *(uint64_t *)(lVar20 + 0xb8) = uVar16;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  *(float *)(lVar20 + 0x90) = fVar26;
  *(float *)(lVar20 + 0x94) = fVar27;
  *(float *)(lVar20 + 0x98) = fVar13;
  *(float *)(lVar20 + 0x9c) = fVar14;
  *(int32_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x59c) =
       *(int32_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x4f0);
  *(int8_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x5ae) = 1;
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  if (*(float *)(lVar20 + 0x59c) < 0.1) {
    fVar28 = 0.1 - *(float *)(lVar20 + 0x59c);
    *(float *)(lVar20 + 0x50) = fVar22 * fVar28 + *(float *)(lVar20 + 0x50);
    *(float *)(lVar20 + 0x54) = fVar29 * fVar28 + *(float *)(lVar20 + 0x54);
    *(float *)(lVar20 + 0x58) = fVar31 * fVar28 + *(float *)(lVar20 + 0x58);
    *(int32_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x59c) = 0x3dcccccd;
    lVar20 = *(int64_t *)(*(int64_t *)(unaff_RDI + 0x36f8 + unaff_RSI) + 0x18);
    do {
      LOCK();
      puVar1 = (uint *)(lVar21 + lVar20);
      uVar3 = *puVar1;
      *puVar1 = *puVar1 | 1;
      UNLOCK();
    } while ((uVar3 & 1) != 0);
    puVar2 = (int32_t *)(lVar21 + 4 + lVar20);
    uVar9 = *puVar2;
    uVar10 = puVar2[1];
    uVar11 = puVar2[2];
    uVar12 = puVar2[3];
    pfVar19 = (float *)(lVar21 + 0x14 + lVar20);
    fVar22 = *pfVar19;
    fVar28 = pfVar19[1];
    fVar29 = pfVar19[2];
    fVar31 = pfVar19[3];
    unaff_RBP[0x30] = uVar9;
    unaff_RBP[0x31] = uVar10;
    unaff_RBP[0x32] = uVar11;
    unaff_RBP[0x33] = uVar12;
    unaff_RBP[0x34] = fVar22;
    unaff_RBP[0x35] = fVar28;
    unaff_RBP[0x36] = fVar29;
    unaff_RBP[0x37] = fVar31;
    *(int32_t *)(lVar21 + lVar20) = 0;
    lVar20 = *(int64_t *)(unaff_RDI + 0x3778 + unaff_RSI);
    lVar6 = *(int64_t *)(unaff_RBX + 0x728);
    *unaff_RBP = uVar9;
    unaff_RBP[1] = uVar10;
    unaff_RBP[2] = uVar11;
    unaff_RBP[3] = uVar12;
    unaff_RBP[4] = fVar22;
    unaff_RBP[5] = fVar28;
    unaff_RBP[6] = fVar29;
    unaff_RBP[7] = fVar31;
    pfVar19 = (float *)FUN_180534930(*(int64_t *)(lVar20 + 0x8a8) + 0x70,unaff_RBP + 0xc,
                                     lVar6 + 0x50);
    uStack0000000000000074 = 0x7f7fffff;
    fStack0000000000000068 = *pfVar19 - fVar22;
    fStack000000000000006c = pfVar19[1] - fVar28;
    fStack0000000000000070 = pfVar19[2] - fVar29;
    FUN_180285b40(fVar28,unaff_RBP + -0x14,&stack0x00000068);
    puVar2 = *(int32_t **)(unaff_RBX + 0x728);
    uVar9 = unaff_RBP[-0x13];
    uVar10 = unaff_RBP[-0x12];
    uVar11 = unaff_RBP[-0x11];
    *puVar2 = unaff_RBP[-0x14];
    puVar2[1] = uVar9;
    puVar2[2] = uVar10;
    puVar2[3] = uVar11;
    lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  }
  if ((unaff_R12W & 0x40) == 0) {
    uVar34 = 0x7149f2ca;
  }
  FUN_180575360(*(uint64_t *)(unaff_RBX + 0x590),lVar20 + 0x50,lVar20 + 0x40,
                *(float *)(lVar20 + 0x59c) / *(float *)(*(int64_t *)(unaff_RBX + 0x6d8) + 0x8c0),
                uVar34);
  fVar22 = (float)unaff_RBP[0x7c];
  *(float *)(*(int64_t *)(unaff_RBX + 0x728) + 0x598) = fVar22;
  *(int64_t *)(*(int64_t *)(unaff_RBX + 0x728) + 0x578) =
       *(int64_t *)
        (&system_error_code + (int64_t)*(int *)(*(int64_t *)(unaff_RBX + 0x728) + 0x580) * 8) -
       (int64_t)(fVar22 * -100000.0);
  lVar20 = *(int64_t *)(unaff_RBX + 0x728);
  *(float *)(lVar20 + 0x10) = fStack0000000000000078;
  *(float *)(lVar20 + 0x14) = fStack000000000000007c;
  *(int32_t *)(lVar20 + 0x18) = uStack0000000000000080;
  *(int32_t *)(lVar20 + 0x1c) = uStack0000000000000084;
  FUN_180516bd0(fStack0000000000000078,unaff_R12W,0xc7d5);
                    // WARNING: Subroutine does not return
  SystemSecurityChecker(*(uint64_t *)(unaff_RBP + 0x38) ^ (uint64_t)&stack0x00000000);
}





