#!/bin/bash

# 美化脚本：替换00_data_definitions.h中的十六进制变量名为语义化名称

# 定义替换规则
declare -A replacements=(
    # 系统地址变量
    ["system_180a39850"]="system_validation_param_1"
    ["system_180a39820"]="system_validation_param_2"
    ["system_180a39940"]="system_validation_param_3"
    ["system_180a19c8c"]="system_validation_param_4"
    ["system_180a397d8"]="system_validation_param_5"
    ["system_180a397c8"]="system_validation_param_6"
    ["system_180a39740"]="system_validation_param_7"
    ["system_180a39728"]="system_validation_param_8"
    ["system_180a39768"]="system_validation_param_9"
    ["system_180a39758"]="system_validation_param_10"
    ["system_180a39870"]="system_validation_param_11"
    ["system_180a39864"]="system_validation_param_12"
    ["system_180a398a8"]="system_validation_param_13"
    ["system_180a39568"]="system_validation_param_14"
    ["system_180a39538"]="system_validation_param_15"
    ["system_180a396c8"]="system_validation_param_16"
    ["system_180a396b0"]="system_validation_param_17"
    ["system_180a39710"]="system_validation_param_18"
    ["system_180a396f0"]="system_validation_param_19"
    ["system_180a39640"]="system_validation_param_20"
    ["system_180a39628"]="system_validation_param_21"
    ["system_180a39688"]="system_validation_param_22"
    ["system_180a39660"]="system_validation_param_23"
    ["system_180a397a8"]="system_validation_param_24"
    ["system_180a39788"]="system_validation_param_25"
    ["system_180a39270"]="system_validation_param_26"
    ["system_180a393a8"]="system_validation_param_27"
    ["system_180a39390"]="system_validation_param_28"
    ["system_180a393f0"]="system_validation_param_29"
    ["system_180a393d0"]="system_validation_param_30"
    ["system_180a39348"]="system_validation_param_31"
    ["system_180a39328"]="system_validation_param_32"
    ["system_180a39378"]="system_validation_param_33"
    ["system_180a39360"]="system_validation_param_34"
    ["system_180a394a0"]="system_validation_param_35"
    ["system_180a39480"]="system_validation_param_36"
    ["system_180a394e0"]="system_validation_param_37"
    ["system_180a394b8"]="system_validation_param_38"
    ["system_180a39428"]="system_validation_param_39"
    ["system_180a39408"]="system_validation_param_40"
    ["system_180a39468"]="system_validation_param_41"
    ["system_180a39450"]="system_validation_param_42"
    ["system_180a395c0"]="system_validation_param_43"
    ["system_180a39598"]="system_validation_param_44"
    ["system_180a39600"]="system_validation_param_45"
    ["system_180a395e0"]="system_validation_param_46"
    ["system_180a39518"]="system_validation_param_47"
    ["system_180a39500"]="system_validation_param_48"
    ["system_180a391b8"]="system_validation_param_49"
    ["system_180a39188"]="system_validation_param_50"
    ["system_180a39210"]="system_validation_param_51"
    ["system_180a391e8"]="system_validation_param_52"
    ["system_180a39128"]="system_validation_param_53"
    ["system_180a39110"]="system_validation_param_54"
    ["system_180a39170"]="system_validation_param_55"
    ["system_180a39148"]="system_validation_param_56"
    ["system_180a392d0"]="system_validation_param_57"
    ["system_180a392b8"]="system_validation_param_58"
    ["system_180a39308"]="system_validation_param_59"
    ["system_180a392e8"]="system_validation_param_60"
    ["system_180a39250"]="system_validation_param_61"
    ["system_180a39230"]="system_validation_param_62"
    ["system_180a39298"]="system_validation_param_63"
    ["system_180a38ef0"]="system_validation_param_64"
    ["system_180a38fd8"]="system_validation_param_65"
    ["system_180a38fc0"]="system_validation_param_66"
    ["system_180a39008"]="system_validation_param_67"
    ["system_180a38ff0"]="system_validation_param_68"
    ["system_180a38f78"]="system_validation_param_69"
    ["system_180a38f60"]="system_validation_param_70"
    ["system_180a38fa8"]="system_validation_param_71"
    ["system_180a38f90"]="system_validation_param_72"
    ["system_180a390b8"]="system_validation_param_73"
    ["system_180a39090"]="system_validation_param_74"
    ["system_180a390f0"]="system_validation_param_75"
    ["system_180a390d0"]="system_validation_param_76"
    ["system_180a39030"]="system_validation_param_77"
    ["system_180a34c20"]="system_validation_param_78"
    ["system_180a39020"]="system_validation_param_79"
    ["system_180a39078"]="system_validation_param_80"
    ["system_180a39058"]="system_validation_param_81"
    ["system_180a0ee38"]="system_validation_param_82"
    ["system_180a38f50"]="system_validation_param_83"
    ["system_180a38f40"]="system_validation_param_84"
    ["system_180a38ee0"]="system_validation_param_85"
    ["system_180a38ed0"]="system_validation_param_86"
    ["system_180a38f00"]="system_validation_param_87"
    
    # 系统函数地址
    ["system_18064ffc0"]="system_cleanup_function"
    ["system_180a3db60"]="system_thread_function_1"
    ["system_180a3d970"]="system_thread_function_2"
    ["system_1809fd0a0"]="system_thread_function_3"
    ["system_180a3cac0"]="system_string_function_1"
    ["system_180a3ca70"]="system_string_function_2"
    ["system_180a3ca20"]="system_string_function_3"
    ["system_180a12e10"]="system_validation_function_1"
    ["system_180a0794c"]="system_string_end_marker_1"
    ["system_180a0ee30"]="system_string_end_marker_2"
    ["system_180a3cc28"]="system_thread_function_4"
    ["system_180a3cc48"]="system_string_buffer_1"
    ["system_180a3cbe0"]="system_thread_function_5"
    ["system_180a3c9ec"]="system_string_buffer_2"
    ["system_180a3cc0c"]="system_thread_function_6"
    ["system_180a3cc04"]="system_string_buffer_3"
    ["system_180a3cc1c"]="system_thread_function_7"
    ["system_180a3c9f8"]="system_thread_function_8"
    ["system_180a16818"]="system_memory_function_1"
    ["system_180a3ccc8"]="system_thread_function_9"
    ["system_180a3cca0"]="system_thread_function_10"
    ["system_18064f970"]="system_tls_function"
    ["system_180a3d988"]="system_exception_function_1"
    ["system_180a3d940"]="system_exception_function_2"
    ["system_180a3d958"]="system_exception_function_3"
    ["system_18076804b"]="system_memory_function_2"
    ["system_18097c490"]="system_validation_function_2"
    ["system_18098ab30"]="system_system_function_1"
    ["system_18098aef8"]="system_library_function_1"
    ["system_18098af08"]="system_library_function_2"
    ["system_18098af18"]="system_library_function_3"
    ["system_18098af28"]="system_library_function_4"
    ["system_18098af40"]="system_library_function_5"
    ["system_18098af50"]="system_library_function_6"
    ["system_18098afa0"]="system_debug_string_1"
    ["system_18098b4e0"]="system_console_title_1"
    ["system_18098b51c"]="system_file_function_1"
    ["system_18098b520"]="system_string_function_4"
    ["system_18098b580"]="system_string_function_5"
    ["system_18098b4e8"]="system_string_function_6"
    ["system_18098b464"]="system_debug_string_2"
    ["system_18098b45c"]="system_debug_string_3"
    
    # 栈变量
    ["system_18045f200"]="system_stack_data_secondary"
)

# 执行替换
for pattern in "${!replacements[@]}"; do
    replacement="${replacements[$pattern]}"
    sed -i "s/\b${pattern}\b/${replacement}/g" /dev/shm/mountblade-code/TaleWorlds.Native/src/00_data_definitions.h
done

echo "变量名美化完成"