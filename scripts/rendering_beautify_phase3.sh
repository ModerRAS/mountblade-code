#!/bin/bash

# 03_rendering.c 第三阶段代码美化脚本
# 替换剩余的硬编码十六进制值

FILE_PATH="/dev/shm/mountblade-code/TaleWorlds.Native/src/03_rendering.c"

# 替换硬编码值为语义化常量
sed -i "s/0x1fe/RENDER_CONTEXT_OBJECT_OFFSET_1FE/g" "$FILE_PATH"
sed -i "s/0x1fc/RENDER_CONTEXT_OBJECT_OFFSET_1FC/g" "$FILE_PATH"
sed -i "s/0x254/RENDER_CONTEXT_OBJECT_OFFSET_254/g" "$FILE_PATH"
sed -i "s/0x252/RENDER_CONTEXT_OBJECT_OFFSET_252/g" "$FILE_PATH"
sed -i "s/0x31a/RENDER_CONTEXT_OBJECT_OFFSET_31A/g" "$FILE_PATH"
sed -i "s/0x318/RENDER_CONTEXT_OBJECT_OFFSET_318/g" "$FILE_PATH"
sed -i "s/0xf88/RENDER_CONTEXT_OBJECT_OFFSET_F88/g" "$FILE_PATH"
sed -i "s/0x498/RENDER_CONTEXT_OBJECT_OFFSET_498/g" "$FILE_PATH"
sed -i "s/0x490/RENDER_CONTEXT_OBJECT_OFFSET_490/g" "$FILE_PATH"
sed -i "s/0x134/RENDER_CONTEXT_OBJECT_OFFSET_134/g" "$FILE_PATH"
sed -i "s/0x27/RENDER_CONTEXT_OBJECT_OFFSET_27/g" "$FILE_PATH"
sed -i "s/0x138/RENDER_CONTEXT_OBJECT_OFFSET_138/g" "$FILE_PATH"
sed -i "s/0x2b/RENDER_CONTEXT_OBJECT_OFFSET_2B/g" "$FILE_PATH"
sed -i "s/0x15c/RENDER_CONTEXT_OBJECT_OFFSET_15C/g" "$FILE_PATH"
sed -i "s/0x158/RENDER_CONTEXT_OBJECT_OFFSET_158/g" "$FILE_PATH"
sed -i "s/0x1b4/RENDER_CONTEXT_OBJECT_OFFSET_1B4/g" "$FILE_PATH"
sed -i "s/0x1b8/RENDER_CONTEXT_OBJECT_OFFSET_1B8/g" "$FILE_PATH"
sed -i "s/0x1bc/RENDER_CONTEXT_OBJECT_OFFSET_1BC/g" "$FILE_PATH"
sed -i "s/0x214/RENDER_CONTEXT_OBJECT_OFFSET_214/g" "$FILE_PATH"
sed -i "s/0x234/RENDER_CONTEXT_OBJECT_OFFSET_234/g" "$FILE_PATH"
sed -i "s/0x45/RENDER_CONTEXT_OBJECT_OFFSET_45/g" "$FILE_PATH"
sed -i "s/0x314/RENDER_CONTEXT_OBJECT_OFFSET_314/g" "$FILE_PATH"
sed -i "s/0x26/RENDER_CONTEXT_OBJECT_OFFSET_26/g" "$FILE_PATH"
sed -i "s/0xfd/RENDER_CONTEXT_OBJECT_OFFSET_FD/g" "$FILE_PATH"
sed -i "s/0xfe/RENDER_CONTEXT_OBJECT_OFFSET_FE/g" "$FILE_PATH"
sed -i "s/0x15/RENDER_CONTEXT_OBJECT_OFFSET_15/g" "$FILE_PATH"
sed -i "s/0x77/RENDER_CONTEXT_OBJECT_OFFSET_77/g" "$FILE_PATH"
sed -i "s/0x3b8/RENDER_CONTEXT_OBJECT_OFFSET_3B8/g" "$FILE_PATH"
sed -i "s/0x238/RENDER_CONTEXT_OBJECT_OFFSET_238/g" "$FILE_PATH"
sed -i "s/0xf0/RENDER_CONTEXT_OBJECT_OFFSET_F0/g" "$FILE_PATH"
sed -i "s/0x57/RENDER_CONTEXT_OBJECT_OFFSET_57/g" "$FILE_PATH"
sed -i "s/0x56/RENDER_CONTEXT_OBJECT_OFFSET_56/g" "$FILE_PATH"
sed -i "s/0x2b8/RENDER_CONTEXT_OBJECT_OFFSET_2B8/g" "$FILE_PATH"
sed -i "s/0x3e/RENDER_CONTEXT_OBJECT_OFFSET_3E/g" "$FILE_PATH"
sed -i "s/0x2d/RENDER_CONTEXT_OBJECT_OFFSET_2D/g" "$FILE_PATH"
sed -i "s/0x79/RENDER_CONTEXT_OBJECT_OFFSET_79/g" "$FILE_PATH"
sed -i "s/0xaa/RENDER_CONTEXT_OBJECT_OFFSET_AA/g" "$FILE_PATH"
sed -i "s/0x65/RENDER_CONTEXT_OBJECT_OFFSET_65/g" "$FILE_PATH"
sed -i "s/0x9a34/RENDER_CONTEXT_OBJECT_OFFSET_9A34/g" "$FILE_PATH"
sed -i "s/0x370/RENDER_CONTEXT_OBJECT_OFFSET_370/g" "$FILE_PATH"
sed -i "s/0x2e/RENDER_CONTEXT_OBJECT_OFFSET_2E/g" "$FILE_PATH"
sed -i "s/0x36/RENDER_CONTEXT_OBJECT_OFFSET_36/g" "$FILE_PATH"
sed -i "s/0x1c/RENDER_CONTEXT_OBJECT_OFFSET_1C/g" "$FILE_PATH"
sed -i "s/0x8400/RENDER_CONTEXT_OBJECT_OFFSET_8400/g" "$FILE_PATH"
sed -i "s/0x8420/RENDER_CONTEXT_OBJECT_OFFSET_8420/g" "$FILE_PATH"
sed -i "s/0x8428/RENDER_CONTEXT_OBJECT_OFFSET_8428/g" "$FILE_PATH"
sed -i "s/0x1d88/RENDER_CONTEXT_OBJECT_OFFSET_1D88/g" "$FILE_PATH"
sed -i "s/0x39/RENDER_CONTEXT_OBJECT_OFFSET_39/g" "$FILE_PATH"
sed -i "s/0x35c/RENDER_CONTEXT_OBJECT_OFFSET_35C/g" "$FILE_PATH"
sed -i "s/0x335/RENDER_CONTEXT_OBJECT_OFFSET_335/g" "$FILE_PATH"
sed -i "s/0x200/RENDER_BUFFER_OFFSET_DATA0/g" "$FILE_PATH"
sed -i "s/0x68/RENDER_BUFFER_OFFSET_0X68/g" "$FILE_PATH"
sed -i "s/0x26/RENDER_DIVISION_VALUE_0X26/g" "$FILE_PATH"
sed -i "s/0x20/RENDER_BIT_MASK_0X20/g" "$FILE_PATH"
sed -i "s/0x20000000/RENDER_BIT_MASK_0X20000000/g" "$FILE_PATH"
sed -i "s/0xfb/RENDER_BIT_MASK_0XFB/g" "$FILE_PATH"
sed -i "s/0x55/RENDER_MULTIPLIER_0X55/g" "$FILE_PATH"
sed -i "s/0x1c/RENDER_MULTIPLIER_0X1C/g" "$FILE_PATH"
sed -i "s/0x18/RENDER_BUFFER_SIZE_0X18/g" "$FILE_PATH"
sed -i "s/0x5b/RENDER_CHARACTER_VALUE_LEFT_BRACKET/g" "$FILE_PATH"
sed -i "s/0x2e8/RENDER_DEVICE_OBJECT_OFFSET_2E8/g" "$FILE_PATH"
sed -i "s/0x1f8/RENDER_SYSTEM_OFFSET_0X1F8/g" "$FILE_PATH"
sed -i "s/0x1d8/RENDER_SYSTEM_OFFSET_0X1D8/g" "$FILE_PATH"
sed -i "s/0xf8/RENDER_SYSTEM_OFFSET_0XF8/g" "$FILE_PATH"
sed -i "s/0x218/RENDER_SYSTEM_OFFSET_0X218/g" "$FILE_PATH"
sed -i "s/0x158/RENDER_SYSTEM_OFFSET_0X158/g" "$FILE_PATH"
sed -i "s/-0x7b/RENDER_NEGATIVE_OFFSET_7B/g" "$FILE_PATH"
sed -i "s/-0x79/RENDER_NEGATIVE_OFFSET_79/g" "$FILE_PATH"
sed -i "s/-0x77/RENDER_NEGATIVE_OFFSET_77/g" "$FILE_PATH"
sed -i "s/-0x75/RENDER_NEGATIVE_OFFSET_75/g" "$FILE_PATH"
sed -i "s/-0x73/RENDER_NEGATIVE_OFFSET_73/g" "$FILE_PATH"
sed -i "s/-0x71/RENDER_NEGATIVE_OFFSET_71/g" "$FILE_PATH"
sed -i "s/-0x68/RENDER_NEGATIVE_OFFSET_68/g" "$FILE_PATH"

echo "第三阶段代码美化完成"