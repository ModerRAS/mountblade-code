#!/bin/bash

# 美化01_initialization.c文件中的变量名
# 将非语义化的变量名替换为语义化的名称

FILE="/dev/shm/mountblade-code/TaleWorlds.Native/src/01_initialization.c"

# 创建备份
cp "$FILE" "$FILE.backup_$(date +%Y%m%d_%H%M%S)"

# 系统状态变量美化
sed -i 's/UNK_000001c8/system_global_status_flag_a/g' "$FILE"
sed -i 's/UNK_000001d0/system_global_status_flag_b/g' "$FILE"
sed -i 's/UNK_000001d8/system_global_status_flag_c/g' "$FILE"
sed -i 's/UNK_000001e0/system_global_status_byte_a/g' "$FILE"
sed -i 's/UNK_000001e8/system_global_status_byte_b/g' "$FILE"
sed -i 's/UNK_000001f0/system_global_status_byte_c/g' "$FILE"
sed -i 's/UNK_000001f8/system_global_status_value/g' "$FILE"

# 数据指针变量美化
sed -i 's/DAT_180bf65bc/system_data_buffer_ptr_a/g' "$FILE"
sed -i 's/UNK_1809feda8/system_unknown_ptr_a/g' "$FILE"
sed -i 's/UNK_1809feeb8/system_unknown_ptr_b/g' "$FILE"
sed -i 's/UNK_1809feec8/system_unknown_ptr_c/g' "$FILE"
sed -i 's/UNK_1809feed8/system_unknown_ptr_d/g' "$FILE"
sed -i 's/DAT_180c82840/system_data_char_a/g' "$FILE"
sed -i 's/UNK_18006a030/system_context_ptr_a/g' "$FILE"
sed -i 's/UNK_180a0e170/system_context_ptr_b/g' "$FILE"
sed -i 's/UNK_180a0e368/system_context_ptr_c/g' "$FILE"
sed -i 's/UNK_1809fefb0/system_context_ptr_d/g' "$FILE"
sed -i 's/DAT_180c8ecee/system_data_buffer_ptr_b/g' "$FILE"
sed -i 's/UNK_1809ff498/system_config_ptr_a/g' "$FILE"
sed -i 's/UNK_1809ff390/system_config_ptr_b/g' "$FILE"
sed -i 's/UNK_1809ff3e8/system_config_ptr_c/g' "$FILE"
sed -i 's/UNK_1809ff488/system_config_ptr_d/g' "$FILE"
sed -i 's/DAT_180c8aa69/system_data_char_b/g' "$FILE"
sed -i 's/UNK_1809ff538/system_memory_ptr_a/g' "$FILE"
sed -i 's/UNK_1809ff550/system_memory_ptr_b/g' "$FILE"
sed -i 's/UNK_1809ff5b0/system_memory_ptr_c/g' "$FILE"
sed -i 's/UNK_1809ff5b8/system_memory_ptr_d/g' "$FILE"
sed -i 's/UNK_1809ff5c0/system_memory_ptr_e/g' "$FILE"
sed -i 's/UNK_1809ff5d0/system_memory_ptr_f/g' "$FILE"
sed -i 's/UNK_1809ff5f8/system_memory_ptr_g/g' "$FILE"
sed -i 's/UNK_1809ff610/system_memory_ptr_h/g' "$FILE"
sed -i 's/UNK_1809ff630/system_memory_ptr_i/g' "$FILE"
sed -i 's/DAT_180bf0100/system_data_char_c/g' "$FILE"
sed -i 's/UNK_1809ff648/system_memory_ptr_j/g' "$FILE"
sed -i 's/UNK_1809ff688/system_memory_ptr_k/g' "$FILE"
sed -i 's/UNK_1809ff6b0/system_memory_ptr_l/g' "$FILE"
sed -i 's/UNK_1809ff6bc/system_memory_ptr_m/g' "$FILE"
sed -i 's/UNK_1809ff6c8/system_memory_ptr_n/g' "$FILE"
sed -i 's/UNK_1809ff6e0/system_memory_ptr_o/g' "$FILE"
sed -i 's/UNK_1809ff7c0/system_memory_ptr_p/g' "$FILE"
sed -i 's/UNK_1809ff800/system_memory_ptr_q/g' "$FILE"
sed -i 's/UNK_1809ff840/system_memory_ptr_r/g' "$FILE"
sed -i 's/UNK_1809ff848/system_memory_ptr_s/g' "$FILE"
sed -i 's/UNK_1809ff888/system_memory_ptr_t/g' "$FILE"
sed -i 's/UNK_1809ff8a8/system_memory_ptr_u/g' "$FILE"
sed -i 's/UNK_1809ff8d8/system_memory_ptr_v/g' "$FILE"
sed -i 's/UNK_1809ff918/system_memory_ptr_w/g' "$FILE"
sed -i 's/UNK_1809ff938/system_memory_ptr_x/g' "$FILE"
sed -i 's/UNK_1809ff958/system_memory_ptr_y/g' "$FILE"
sed -i 's/UNK_1809ff9a8/system_memory_ptr_z/g' "$FILE"
sed -i 's/UNK_1809ffa18/system_memory_ptr_aa/g' "$FILE"
sed -i 's/UNK_180a02e68/system_memory_ptr_ab/g' "$FILE"
sed -i 's/UNK_180a13a28/system_memory_ptr_ac/g' "$FILE"
sed -i 's/UNK_180a00208/system_memory_ptr_ad/g' "$FILE"
sed -i 's/UNK_180a00270/system_memory_ptr_ae/g' "$FILE"
sed -i 's/UNK_180277350/system_memory_ptr_af/g' "$FILE"
sed -i 's/UNK_1809ffa98/system_memory_ptr_ag/g' "$FILE"
sed -i 's/UNK_1802426a0/system_memory_ptr_ah/g' "$FILE"
sed -i 's/UNK_180a001e8/system_memory_ptr_ai/g' "$FILE"
sed -i 's/UNK_1809ffae0/system_memory_ptr_aj/g' "$FILE"
sed -i 's/UNK_180a02b98/system_memory_ptr_ak/g' "$FILE"
sed -i 's/UNK_1800e7f50/system_handler_ptr_a/g' "$FILE"
sed -i 's/UNK_1800e7f80/system_handler_ptr_b/g' "$FILE"
sed -i 's/UNK_1800e7fb0/system_handler_ptr_c/g' "$FILE"
sed -i 's/UNK_1800e7fe0/system_handler_ptr_d/g' "$FILE"
sed -i 's/UNK_1800e8020/system_handler_ptr_e/g' "$FILE"
sed -i 's/UNK_1801b9b60/system_handler_ptr_f/g' "$FILE"
sed -i 's/UNK_180a06950/system_resource_ptr_a/g' "$FILE"
sed -i 's/UNK_180a069b0/system_resource_ptr_b/g' "$FILE"
sed -i 's/UNK_180a069c0/system_resource_ptr_c/g' "$FILE"
sed -i 's/UNK_180a071f8/system_resource_ptr_d/g' "$FILE"
sed -i 's/DAT_180c8ecee/system_data_buffer_ptr_c/g' "$FILE"
sed -i 's/UNK_180a069e8/system_resource_ptr_e/g' "$FILE"
sed -i 's/UNK_180a06be0/system_resource_ptr_f/g' "$FILE"
sed -i 's/UNK_180a06dc8/system_resource_ptr_g/g' "$FILE"
sed -i 's/UNK_180a071e8/system_resource_ptr_h/g' "$FILE"
sed -i 's/UNK_180a071c8/system_resource_ptr_i/g' "$FILE"
sed -i 's/UNK_180a071d8/system_resource_ptr_j/g' "$FILE"
sed -i 's/UNK_180941ab0/system_graphics_ptr_a/g' "$FILE"
sed -i 's/UNK_18014f7f0/system_graphics_ptr_b/g' "$FILE"
sed -i 's/UNK_180a08fd0/system_graphics_ptr_c/g' "$FILE"
sed -i 's/UNK_180a09008/system_graphics_ptr_d/g' "$FILE"
sed -i 's/UNK_180a09048/system_graphics_ptr_e/g' "$FILE"
sed -i 's/UNK_180a09078/system_graphics_ptr_f/g' "$FILE"
sed -i 's/UNK_180a090c0/system_graphics_ptr_g/g' "$FILE"
sed -i 's/UNK_180a090e8/system_graphics_ptr_h/g' "$FILE"
sed -i 's/UNK_180a09118/system_graphics_ptr_i/g' "$FILE"
sed -i 's/UNK_180a09140/system_graphics_ptr_j/g' "$FILE"
sed -i 's/UNK_180a094b0/system_graphics_ptr_k/g' "$FILE"
sed -i 's/UNK_180a094e8/system_graphics_ptr_l/g' "$FILE"
sed -i 's/UNK_180a09520/system_graphics_ptr_m/g' "$FILE"
sed -i 's/UNK_180a09548/system_graphics_ptr_n/g' "$FILE"
sed -i 's/UNK_180a09578/system_graphics_ptr_o/g' "$FILE"
sed -i 's/UNK_180a095b0/system_graphics_ptr_p/g' "$FILE"
sed -i 's/UNK_180a095d0/system_graphics_ptr_q/g' "$FILE"
sed -i 's/UNK_180a095f0/system_graphics_ptr_r/g' "$FILE"
sed -i 's/UNK_180a09198/system_graphics_ptr_s/g' "$FILE"
sed -i 's/UNK_180a09220/system_graphics_ptr_t/g' "$FILE"
sed -i 's/UNK_180a09158/system_graphics_ptr_u/g' "$FILE"
sed -i 's/UNK_180a091c8/system_graphics_ptr_v/g' "$FILE"
sed -i 's/UNK_180a091f0/system_graphics_ptr_w/g' "$FILE"
sed -i 's/UNK_180a09280/system_graphics_ptr_x/g' "$FILE"
sed -i 's/UNK_180a09248/system_graphics_ptr_y/g' "$FILE"
sed -i 's/UNK_180a193d8/system_graphics_ptr_z/g' "$FILE"
sed -i 's/UNK_180a19458/system_graphics_ptr_aa/g' "$FILE"
sed -i 's/UNK_180a09420/system_graphics_ptr_ab/g' "$FILE"
sed -i 's/UNK_180946958/system_graphics_ptr_ac/g' "$FILE"
sed -i 's/DAT_180a089b0/system_graphics_data_a/g' "$FILE"
sed -i 's/UNK_1800830b0/system_network_ptr_a/g' "$FILE"
sed -i 's/UNK_1800830c0/system_network_ptr_b/g' "$FILE"
sed -i 's/UNK_180083130/system_network_ptr_c/g' "$FILE"

echo "变量名美化完成"